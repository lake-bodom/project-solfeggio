{"version":3,"sources":["components/burger/Burger.jsx","components/menu/MenuBody.jsx","components/button/Button.jsx","components/buttonsGroup/ButtonsGroup.jsx","components/modalWindow/ModalWindow.jsx","components/clearSettings/ClearSettingsModalBody.jsx","components/clearSettings/ClearSettings.jsx","components/ErrorBoundary/ErrorBoundary.jsx","components/menu/Menu.jsx","store/actions/applicationActions.js","store/actionTypes.js","containers/menuContainer.js","components/header/stat/statInfo/StatInfo.jsx","components/header/stat/statInfo/StatIntervalName.jsx","components/header/stat/Stat.jsx","containers/statContainer.js","components/header/Header.jsx","containers/headerContainer.js","components/piano/PianoKey.jsx","components/piano/PianoSection.jsx","components/piano/PianoBody.jsx","components/piano/Piano.jsx","containers/pianoContainer.js","components/intervals/LeftSideButtons.jsx","components/intervals/RightSideButtons.jsx","components/intervals/IntervalsOptionButtons.jsx","store/actions/statisticsActions.js","store/actions/pianoActions.js","containers/IntervalsOptionButtonsContainer.js","store/actions/intervalsActions.js","components/intervals/GroupOfIntervals.jsx","store/dataOfIntervals.js","components/intervals/ListOfIntervals.jsx","containers/listOfIntervalsContainer.js","components/intervals/Intervals.jsx","components/activateMidi/ActivateMidi.jsx","containers/activateMidiContainer.js","components/findNote/FindNote.jsx","containers/findNoteContainer.js","store/actions/notesActions.js","components/dictation/DictationPlayButtons.jsx","components/dictation/DictationOptionsButtons.jsx","components/dictation/DictationOutputElement.jsx","components/dictation/DictationOutput.jsx","components/select/Select.jsx","components/dictation/selectComponents.jsx","components/dictation/DictationSettings.jsx","containers/dictationSettingsContainer.js","store/actions/dictationActions.js","components/dictation/Dictation.jsx","containers/dictationContainter.js","components/freeMode/FreeMode.jsx","containers/freeModeContainer.js","components/changeRangeOfNotes/OptionFromSelect.jsx","components/changeRangeOfNotes/SelectBody.jsx","store/arrayOfNotes.js","components/changeRangeOfNotes/SelectOfRange.jsx","components/changeRangeOfNotes/ChangeRangeOfNotes.jsx","containers/changeRangeOfNotesContainer.js","containers/clearSettingsContainer.js","components/settings/playExampleButton/PlayExampleButton.jsx","components/inputRange/InputRange.jsx","components/echoSettings/EchoSettings.jsx","components/tempoSettings/TempoSettings.jsx","components/changeInstrument/instruments.js","components/changeInstrument/ChangeInstrument.jsx","components/keyboardSettings/HotKeyComponent.jsx","components/keyboardSettings/KeyboardSettings.jsx","components/settings/Settings.jsx","containers/settingsContainer.js","App.js","containers/appContainer.js","store/reducers/applicationReducer.js","store/reducers/pianoReducer.js","store/reducers/intervalsReducer.js","store/reducers/statisticsReducer.js","store/reducers/notesReducer.js","store/reducers/dictationReducer.js","store/reducers/index.js","store/store.js","index.js"],"names":["Burger","_ref","clickHandler","menuIsOpen","left","className","concat","react_default","a","createElement","onFocus","e","target","blur","style","onClick","MenuBody","react_router_dom","to","Button","children","cls","active","disabled","classNames","push","join","defaultProps","ButtonsGroup","ModalWindow","modal","document","closeHandler","setTimeout","_this","props","close","saveHandler","saveButtonHandler","cancelHandler","cancelButtonHandler","this","body","appendChild","overflowY","removeChild","_this$props","saveButton","saveButtonName","cancelButton","cancelButtonName","ReactDOM","createPortal","buttonsGroup_ButtonsGroup","button_Button","Component","ClearSettingsModalBody","ModalWindow_ModalWindow","ClearSettings","modalOpenerHandler","actionSetModalWindowFlag","modalCloserHandler","localStorage","clear","setInitialState","actionSetDataClearingFlag","modalWindowFlag","dataIsClearing","clearSettings_ClearSettingsModalBody","ErrorBoundary","state","hasError","reloadHandler","window","location","reload","setState","Fragment","ClearSettings_ClearSettings","Menu","actionMenuAction","leftBurger","leftMenuBody","menuHandler","ErrorBoundary_ErrorBoundary","menu_MenuBody","burger_Burger","getElementById","isOpen","type","payload","actionNeedToWriteNote","bool","actionWritePlayNote","note","needToWriteNote","Object","objectSpread","id","Date","now","actionSetMode","mode","stat","actionKeyboardSetPlayFlag","actionKeyboardSetPlayWrittenMelodyFlag","actionKeyboardSetChangeModeFlag","actionKeyboardSetDictationClearNoteFlag","actionKeyboardSetDictationCheckFlag","actionKeyboardSetIntervalButtonFlag","intervalButtonFlag","interval","arguments","length","undefined","actionKeyboardSetNewHotKeyFlag","mapDispatchToProps","connect","application","StatInfo","rightAnswers","amountOfAnswers","percent","Math","floor","round","StatIntervalName","name","Stat","_ref$stat","nameOfInterval","right","showAnswer","statBody","statInfo_StatIntervalName","statInfo_StatInfo","classesNames","statistics","Statistics","Header","statContainer","PianoKey","elem","sharp","play","key","fullName","PianoSection","map","colorKey","includes","wrong","piano_PianoKey","PianoBody","arrOfNotes","elemJSX","piano_PianoSection","Piano","piano_PianoBody","React","piano","LeftSideButtons","sequenceOfNotes","nextSequenceOfNotes","typeOfInterval","settingsIsOpen","sliceArr","duration","actionIntervalsSettingsAction","actionNextButtonClick","actionGetNextInterval","actionHideAnswer","actionUpdatePianoKeys","playFlag","playInterval","first","second","nextClickHandler","playButtonClasses","initNewIntervalSequence","RightSideButtons","actionSetActiveTypeOfInterval","changeModeFlag","primary","modes","melodicUp","melodicDown","harmonic","indexOfMode","indexOf","setModeFromKeyboard","IntervalsOptionButtons","actionStatisticsClearing","intervals_LeftSideButtons","intervals_RightSideButtons","actionIncrementRightAnswers","actionIncrementAmountOfAnswers","actionShowNotesOnThePiano","options","intervals","GroupOfIntervals","groupIndex","group","intervalClickHandler","activeKeyboardInterval","index","chosen","String","fromCharCode","rusName","dataOfIntervals","numberOfSemitones","getChosenIntervals","arr","filter","createGroupsOfIntervals","i","j","tmp","slice","getNewSequenceOfNotes","activeInterval","getBordersOfSequence","num","firstNote","random","secondNote","ListOfIntervals","allIntervals","actionInverseChosenInterval","actionShowTheCorrectInterval","intervalsKeyboardFlag","actionSetActiveKeyboardInterval","arrayOfGroups","sortedIntervals","sequence","intervalKeyboardActive","hasOwnProperty","intervals_GroupOfIntervals","visibility","obj","Intervals","IntervalsOptionButtonsContainer","listOfIntervalsContainer","ActivateMidi","status","onMIDIOnStateChange","event","port","manufacturer","requestMIDIAccessSuccess","midi","inputs","values","input","next","done","value","onmidimessage","midiOnMIDImessage","onstatechange","requestMIDIAccessFailure","velocity","data","eventKey","startListening","navigator","requestMIDIAccess","sysex","then","marginTop","marginBottom","FindNote","setVisualEffect","playNote","setRightVisualEffect","setWrongVisualEffect","_ref2","_ref3","options1","options2","playButtonHandler","setMode","answerButtonHandler","actionSetActiveNote","prevProps","_this$props2","notes","DictationPlayButtons","playGuessedMelody","playWrittenMelody","playWrittenMelodyFlag","playGuessedButtonClasses","playWrittenMelodyButtonClasses","DictationOptionsButtons","modeWrite","changeMode","clearButtonHandler","checkAnswerHandler","readyToCheck","answerGiven","nextPlayButtonHandler","settingsButtonHandler","access","clearButtonClasses","dictationClearNoteFlag","DictationOutputElement","rightAnswer","rightElem","rightElemJSX","octaveName","DictationOutput","amountOfNotes","sequenceOfMelody","sequenceOfWrittenMelody","answers","dictationOutputBody","elementJSX","dictation_DictationOutputElement","Select","onChange","amountOfNotesOptions","SelectAmountOfNotes","select_Select","modesOptions","modePlay","ru","SelectModes","DictationSettings","defaultModeWrite","selectAmountOfNotesHandler","selectModesHandler","actionChangeSettings","_this$state","selectComponents_SelectAmountOfNotes","selectComponents_SelectModes","settingsObj","dictation","Dictation","setNewMelody","actionGetNewMelody","clearAnswers","actionWriteAnswers","playMelody","getKeysArrayOfMeloday","_loop","actionChangeMode","actionPopLastElemFromAnswerArray","arrKeysArrayOfMeloday","arrKeysArrayOfWrittenMeloday","checkAnswers","getArrayOfEqualsOfAnswers","changeStat","arr1","arr2","nextButtonHandler","actionClearWrittenMelody","actionInitDictation","dictationCheckFlag","prevState","_this$props$dictation","actionAddNoteToAnswerArray","_this$props$dictation2","dictation_DictationPlayButtons","dictation_DictationOptionsButtons","dictation_DictationOutput","dictationSettingsContainer","FreeMode","OptionFromSelect","SelectBody","baseArrOfNotes","firstBorder","secondBorder","nameOfSelect","minAmountOfNotes","changeRangeOfNotes_OptionFromSelect","propType","PropTypes","number","isRequired","shape","string","arrayOf","object","SelectOfRange","actionSetBordersOfRange","valueOfSelect","field","selectChangeHandler","changeRangeOfNotes_SelectBody","ChangeRangeOfNotes","_ref$piano","changeRangeOfNotes_SelectOfRange","PlayExampleButton","notesKeyArray","InputRange","levelValueStyle","level","onChangeHandler","min","max","step","EchoSettings","echoLevel","actionSetEchoLevel","inputRange_InputRange","TempoSettings","bpm","actionSetBpmLevel","instruments","ChangeInstrument","actionSetInstrumentId","instrumentId","selectBody","HotKeyComponent","hotKeys","title","hotKeyType","typeInState","newHotKey","newHotKeyType","hotKeyInState","needToChange","change","keyText","buttonText","KeyboardSettings","intervalHotKeyComponents","listOfIntervalsHotKeys","hotKey","keyboardSettings_HotKeyComponent","Settings","playExampleComponent","playExampleButton_PlayExampleButton","changeRangeOfNotesContainer","echoSettings_EchoSettings","tempoSettings_TempoSettings","changeInstrument_ChangeInstrument","keyboardSettings_KeyboardSettings","clearSettingsContainer","App","keyboardEventListener","preventDefault","indexKeyboardInterval","closeHotKey","playHotKey","playWrittenMelodyHoteKey","changeModeHoteKey","dictationClearNoteHoteKey","dictationCheckHoteKey","onlyPlay","Error","_this2","midiSounds","setEchoLevel","addEventListener","onkeydown","playChordNow","_this3","menuContainer","headerContainer","pianoContainer","react_router","path","exact","render","freeModeContainer","intervals_Intervals","findNoteContainer","dictationContainter","settingsContainer","activateMidiContainer","display","midisoundsreact_default","ref","appElementName","modeDictation","mapIndex","initialState","BASE_NAMES","NAMES_OF_OCTAVES","0","1","2","3","4","5","6","7","8","BASE_START_NOTE","BASE_FINISH_NOTE","octaveNumber","getBaseArrayOfNotes","start","finish","getFullArrayAndMapIndexes","k","nextObj","section","addNewFields","getIndexes","indexesOfNote","toConsumableArray","forEach","element","_getIndexes","apply","getNewActiveInterval","getNewInterval","nextActiveInterval","combineReducers","action","_getFullArrayAndMapIn2","_action$payload","reduce","sum","findIndex","_getNewData","getNewData","getNewMelody","pop","persistedState","getItem","JSON","parse","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","subscribe","getState","sliceState","_state$intervals","setItem","stringify","es","appContainer"],"mappings":"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","file":"static/js/main.0fdcd0fb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./burger.css\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Burger = ({ clickHandler, menuIsOpen, left }) => {\r\n  const className = `burger${menuIsOpen ? \" active\" : \"\"}`;\r\n  return (\r\n    <div onFocus={(e) => { e.target.blur(); }} style={{ left: left }} className={className} onClick={clickHandler}>\r\n      <span />\r\n      <span />\r\n      <span />\r\n    </div>\r\n  );\r\n};\r\n\r\nBurger.propTypes = {\r\n  clickHandler: PropTypes.func.isRequired,\r\n  menuIsOpen: PropTypes.bool.isRequired,\r\n  left: PropTypes.string.isRequired\r\n};\r\n\r\n\r\nexport default Burger;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst MenuBody = ({ left, clickHandler }) => {\r\n  return (\r\n    <div className=\"menu-body\" style={{ left: left }}>\r\n      <nav className=\"nav\">\r\n        <NavLink onClick={clickHandler} to=\"/\">\r\n          Свободная игра\r\n        </NavLink>\r\n        <NavLink onClick={clickHandler} to=\"/find-note\">\r\n          Искать ноту\r\n        </NavLink>\r\n        <NavLink onClick={clickHandler} to=\"/intervals\">\r\n          Поиск Интервала\r\n        </NavLink>\r\n        <NavLink onClick={clickHandler} to=\"/dictation\">\r\n          Музыкальный диктант\r\n        </NavLink>\r\n        <NavLink onClick={clickHandler} to=\"/options\">\r\n          Настройки\r\n        </NavLink>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nMenuBody.propTypes = {\r\n  left: PropTypes.string.isRequired,\r\n  clickHandler: PropTypes.func.isRequired\r\n};\r\n\r\nexport default MenuBody;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./button.css\";\r\n\r\nconst Button = ({ onClick, children, cls, active, disabled }) => {\r\n  let classNames = [\"button\", cls];\r\n\r\n  if (active) {\r\n    classNames.push(\"active\");\r\n  }\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={classNames.join(\" \")}\r\n      disabled={disabled}\r\n      onFocus={(e) => { e.target.blur(); }}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\r\n  onClick: PropTypes.func,\r\n  cls: PropTypes.string,\r\n  active: PropTypes.bool,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nButton.defaultProps = {\r\n  children: \"click\",\r\n  onClick: () => { },\r\n  cls: \"secondary-outline\",\r\n  active: false\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./buttonsGroup.css\";\r\n\r\nconst ButtonsGroup = ({ children, cls }) => {\r\n    let classNames = [\"buttonGroup\", cls];\r\n    return <div className={classNames.join(\" \")}>{children}</div>;\r\n};\r\n\r\nButtonsGroup.propTypes = {\r\n    children: PropTypes.array,\r\n    cls: PropTypes.string\r\n};\r\n\r\nButtonsGroup.defaultProps = {\r\n    children: \"\",\r\n    cls: \"horizontal\"\r\n};\r\nexport default ButtonsGroup;\r\n","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./modalWindow.css\";\r\nimport ButtonsGroup from \"../buttonsGroup/ButtonsGroup\";\r\nimport Button from \"../button/Button\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\nexport default class ModalWindow extends Component {\r\n\r\n  modal = document.createElement(\"div\");\r\n\r\n  componentDidMount() {\r\n    this.modal.className = \"modal-wrap\";\r\n    document.body.appendChild(this.modal);\r\n    document.body.style.overflowY = \"hidden\";\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.body.removeChild(this.modal);\r\n    document.body.style.overflowY = \"auto\";\r\n  }\r\n\r\n  closeHandler = () => {\r\n    setTimeout(() => {\r\n      this.props.close();\r\n    }, 100);\r\n  };\r\n\r\n  saveHandler = () => {\r\n    this.closeHandler();\r\n    this.props.saveButtonHandler();\r\n  };\r\n\r\n  cancelHandler = () => {\r\n    this.closeHandler();\r\n    this.props.cancelButtonHandler();\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      saveButton,\r\n      saveButtonName,\r\n      cancelButton,\r\n      cancelButtonName\r\n    } = this.props;\r\n\r\n\r\n    return ReactDOM.createPortal(\r\n      <div className=\"modal-window\" >\r\n        <span className=\"close\" onClick={this.closeHandler}>\r\n          &times;\r\n        </span>\r\n        {this.props.children}\r\n        <ButtonsGroup cls=\"flex\">\r\n          {saveButton ? (\r\n            <Button onClick={this.saveHandler} cls=\"info\">\r\n              {saveButtonName}\r\n            </Button>\r\n          ) : null}\r\n          {cancelButton ? (\r\n            <Button onClick={this.cancelHandler} cls=\"danger\">\r\n              {cancelButtonName}\r\n            </Button>\r\n          ) : null}\r\n        </ButtonsGroup>\r\n      </div>,\r\n      this.modal\r\n    );\r\n  }\r\n}\r\n\r\nModalWindow.propTypes = {\r\n  close: PropTypes.func.isRequired,\r\n  saveButton: PropTypes.bool.isRequired,\r\n  saveButtonName: PropTypes.string,\r\n  cancelButton: PropTypes.bool.isRequired,\r\n  cancelButtonName: PropTypes.string,\r\n  children: PropTypes.node.isRequired,\r\n  saveButtonHandler: PropTypes.func,\r\n  cancelButtonHandler: PropTypes.func\r\n};\r\n\r\nModalWindow.defaultProps = {\r\n  cancelButtonHandler: () => { }\r\n};\r\n","import React from \"react\";\r\nimport ModalWindow from \"../modalWindow/ModalWindow\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ClearSettingsModalBody = ({ close, saveButtonHandler }) => {\r\n\r\n  return (\r\n    <ModalWindow close={close} saveButton={true}\r\n      saveButtonName={\"Да\"}\r\n      cancelButton={true}\r\n      cancelButtonName={\"Нет\"}\r\n      saveButtonHandler={saveButtonHandler}\r\n      cancelButtonHandler={() => { }}>\r\n      <h3>Сбросить все настройки</h3>\r\n      <p>Вы уверены, что хотите совершить сброс всех настроек?</p>\r\n    </ModalWindow>\r\n  );\r\n};\r\n\r\nClearSettingsModalBody.propTypes = {\r\n  close: PropTypes.func.isRequired,\r\n  saveButtonHandler: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ClearSettingsModalBody;","import React, { Component } from \"react\";\r\nimport Button from \"../button/Button\";\r\nimport ClearSettingsModalBody from \"./ClearSettingsModalBody\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./clearSettings.css\";\r\n\r\nexport default class ClearSettings extends Component {\r\n\r\n\r\n\tmodalOpenerHandler = () => {\r\n\t\tthis.props.actionSetModalWindowFlag(true);\r\n\t}\r\n\r\n\tmodalCloserHandler = () => {\r\n\t\tthis.props.actionSetModalWindowFlag(false);\r\n\t}\r\n\r\n\tsaveButtonHandler = () => {\r\n\t\tlocalStorage.clear();\r\n\t\tthis.props.setInitialState();\r\n\t\tthis.props.actionSetDataClearingFlag(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.props.actionSetDataClearingFlag(false);\r\n\t\t}, 1000);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { modalOpenerHandler } = this;\r\n\t\tconst { modalWindowFlag, dataIsClearing } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"clear-settings\">\r\n\t\t\t\t<h3>Сбросить настройки:</h3>\r\n\t\t\t\t<Button onClick={modalOpenerHandler}>\r\n\t\t\t\t\tСбросить все настройки\r\n\t\t\t\t</Button>\r\n\t\t\t\t{dataIsClearing ? <span>\r\n\t\t\t\t\tНастройки сброшены\r\n\t\t\t\t</span> : null}\r\n\t\t\t\t{modalWindowFlag ? <ClearSettingsModalBody close={this.modalCloserHandler} saveButtonHandler={this.saveButtonHandler} /> : null}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nClearSettings.propTypes = {\r\n\tactionSetDataClearingFlag: PropTypes.func.isRequired,\r\n\tsetInitialState: PropTypes.func.isRequired,\r\n\tactionSetModalWindowFlag: PropTypes.func.isRequired,\r\n\tmodalWindowFlag: PropTypes.bool,\r\n\tdataIsClearing: PropTypes.bool\r\n};","import React, { Component } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"../button/Button\";\r\n\r\nimport \"./errorBoundary.css\";\r\nimport ClearSettings from \"../clearSettings/ClearSettings\";\r\n\r\nexport default class ErrorBoundary extends Component {\r\n\r\n\tstate = {\r\n\t\thasError: false\r\n\t}\r\n\r\n\tcomponentDidCatch() {\r\n\t\tthis.setState({\r\n\t\t\thasError: true\r\n\t\t});\r\n\t}\r\n\r\n\treloadHandler = () => {\r\n\t\twindow.location.reload(true);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.hasError ?\r\n\t\t\t\t\t\t<div className=\"error-boundary\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tПохоже, что-то пошло не так. Попробуйте перезагрузить страницу. Если не помогло, сбросьте все настройки, а после этого повторно перезагрузите страницу.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<ClearSettings />\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<Button onClick={this.reloadHandler}>\r\n\t\t\t\t\t\t\t\t\tПерезагрузить страницу\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tthis.props.children\r\n\t\t\t\t}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nErrorBoundary.propTypes = {\r\n\tchildren: PropTypes.node.isRequired\r\n};","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./menu.css\";\r\n\r\nimport Burger from \"../burger/Burger\";\r\nimport MenuBody from \"./MenuBody\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ErrorBoundary from \"../ErrorBoundary/ErrorBoundary\";\r\n\r\n\r\nconst Menu = ({ menuIsOpen, actionMenuAction }) => {\r\n  const leftBurger = menuIsOpen ? \"260px\" : \"10px\";\r\n  const leftMenuBody = menuIsOpen ? \"0px\" : \"-1000px\";\r\n\r\n  const menuHandler = () => {\r\n    actionMenuAction();\r\n  };\r\n\r\n  return ReactDOM.createPortal(\r\n    <ErrorBoundary>\r\n      <div className=\"menu\">\r\n        <MenuBody left={leftMenuBody} clickHandler={menuHandler} />\r\n        <Burger\r\n          left={leftBurger}\r\n          clickHandler={menuHandler}\r\n          menuIsOpen={menuIsOpen}\r\n        />\r\n      </div>\r\n    </ErrorBoundary>,\r\n    document.getElementById(\"menu\")\r\n  );\r\n};\r\n\r\nMenu.propTypes = {\r\n  menuIsOpen: PropTypes.bool.isRequired,\r\n  actionMenuAction: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Menu;\r\n","import {\r\n  MENU_ACTION,\r\n  NEED_TO_WRITE_NOTE,\r\n  WRITE_PLAY_NOTE,\r\n  INIT_DICTATION,\r\n  SET_MODE,\r\n  SET_INITIAL_STATE,\r\n  SET_ECHO_LEVEL,\r\n  SET_BPM_LEVEL,\r\n  SET_INSTRUMENTID,\r\n  KEYBOARD_SET_PLAY_FLAG,\r\n  SET_MODAL_WINDOW_FLAG,\r\n  DATA_CLEARING_FLAG,\r\n  KEYBOARD_SET_PLAY_WRITTEN_MELODY_FLAG,\r\n  KEYBOARD_SET_CHANGE_MODE_FLAG,\r\n  KEYBOARD_SET_DICTATION_CLEAR_NOTE_FLAG,\r\n  KEYBOARD_SET_DICTATION_CHECK_FLAG,\r\n  KEYBOARD_SET_INTERVAL_BUTTON_FLAG,\r\n  KEYBOARD_SET_NEW_HOT_KEY_FLAG\r\n} from \"../actionTypes\";\r\n\r\nexport const actionMenuAction = isOpen => ({\r\n  type: MENU_ACTION,\r\n  payload: { isOpen }\r\n});\r\n\r\nexport const actionNeedToWriteNote = bool => ({\r\n  type: NEED_TO_WRITE_NOTE,\r\n  payload: bool\r\n});\r\n\r\nexport const actionWritePlayNote = (note, needToWriteNote) => ({\r\n  type: WRITE_PLAY_NOTE,\r\n  needToWriteNote,\r\n  payload: { ...note, id: Date.now() }\r\n});\r\n\r\nexport const actionInitDictation = bool => ({\r\n  type: INIT_DICTATION,\r\n  payload: bool\r\n});\r\n\r\nexport const actionSetMode = ({ mode, stat }) => ({\r\n  type: SET_MODE,\r\n  payload: { mode, stat }\r\n});\r\n\r\nexport const actionApplicationSetInitialState = () => ({\r\n  type: SET_INITIAL_STATE\r\n});\r\n\r\nexport const actionSetEchoLevel = (payload) => ({\r\n  type: SET_ECHO_LEVEL,\r\n  payload\r\n});\r\n\r\nexport const actionSetBpmLevel = (payload) => ({\r\n  type: SET_BPM_LEVEL,\r\n  payload\r\n});\r\n\r\nexport const actionSetInstrumentId = (payload) => ({\r\n  type: SET_INSTRUMENTID,\r\n  payload\r\n});\r\n\r\nexport const actionKeyboardSetPlayFlag = (payload) => ({\r\n  type: KEYBOARD_SET_PLAY_FLAG,\r\n  payload\r\n});\r\n\r\nexport const actionSetModalWindowFlag = (payload) => ({\r\n  type: SET_MODAL_WINDOW_FLAG,\r\n  payload\r\n});\r\n\r\nexport const actionSetDataClearingFlag = (payload) => ({\r\n  type: DATA_CLEARING_FLAG,\r\n  payload\r\n});\r\n\r\nexport const actionKeyboardSetPlayWrittenMelodyFlag = (payload) => ({\r\n  type: KEYBOARD_SET_PLAY_WRITTEN_MELODY_FLAG,\r\n  payload\r\n});\r\n\r\nexport const actionKeyboardSetChangeModeFlag = (payload) => ({\r\n  type: KEYBOARD_SET_CHANGE_MODE_FLAG,\r\n  payload\r\n});\r\n\r\nexport const actionKeyboardSetDictationClearNoteFlag = (payload) => ({\r\n  type: KEYBOARD_SET_DICTATION_CLEAR_NOTE_FLAG,\r\n  payload\r\n});\r\n\r\nexport const actionKeyboardSetDictationCheckFlag = (payload) => ({\r\n  type: KEYBOARD_SET_DICTATION_CHECK_FLAG,\r\n  payload\r\n});\r\n\r\nexport const actionKeyboardSetIntervalButtonFlag = (bool, interval = 0) => ({\r\n  type: KEYBOARD_SET_INTERVAL_BUTTON_FLAG,\r\n  payload: {\r\n    intervalButtonFlag: bool,\r\n    interval\r\n  }\r\n});\r\n\r\nexport const actionKeyboardSetNewHotKeyFlag = (payload) => ({\r\n  type: KEYBOARD_SET_NEW_HOT_KEY_FLAG,\r\n  payload\r\n});\r\n","export const MENU_ACTION = \"MENU_ACTION\";\r\nexport const NEED_TO_WRITE_NOTE = \"NEED_TO_WRITE_NOTE\";\r\nexport const WRITE_PLAY_NOTE = \"WRITE_PLAY_NOTE\";\r\nexport const INIT_DICTATION = \"INIT_DICTATION\";\r\nexport const SET_MODE = \"SET_MODE\";\r\nexport const SET_ECHO_LEVEL = \"SET_ECHO_LEVEL\";\r\nexport const SET_BPM_LEVEL = \"SET_BPM_LEVEL\";\r\nexport const SET_INSTRUMENTID = \"SET_INSTRUMENTID\";\r\nexport const SET_MODAL_WINDOW_FLAG = \"SET_MODAL_WINDOW_FLAG\";\r\nexport const DATA_CLEARING_FLAG = \"DATA_CLEARING_FLAG\";\r\nexport const KEYBOARD_SET_PLAY_FLAG = \"KEYBOARD_SET_PLAY_FLAG\";\r\nexport const KEYBOARD_SET_PLAY_WRITTEN_MELODY_FLAG = \"KEYBOARD_SET_PLAY_WRITTEN_MELODY_FLAG\";\r\nexport const KEYBOARD_SET_CHANGE_MODE_FLAG = \"KEYBOARD_SET_CHANGE_MODE_FLAG\";\r\nexport const KEYBOARD_SET_DICTATION_CLEAR_NOTE_FLAG = \"KEYBOARD_SET_DICTATION_CLEAR_NOTE_FLAG\";\r\nexport const KEYBOARD_SET_DICTATION_CHECK_FLAG = \"KEYBOARD_SET_DICTATION_CHECK_FLAG\";\r\nexport const KEYBOARD_SET_INTERVAL_BUTTON_FLAG = \"KEYBOARD_SET_INTERVAL_BUTTON_FLAG\";\r\nexport const KEYBOARD_SET_NEW_HOT_KEY_FLAG = \"KEYBOARD_SET_NEW_HOT_KEY_FLAG\";\r\n\r\nexport const UPDATE_PIANO_KEYS = \"UPDATE_PIANO_KEYS\";\r\nexport const SET_BORDERS_OF_RANGE = \"SET_BORDERS_OF_RANGE\";\r\nexport const SHOW_NOTES_ON_THE_PIANO = \"SHOW_NOTES_ON_THE_PIANO\";\r\n\r\nexport const SET_ACTIVE_NOTE = \"SET_ACTIVE_NOTE\";\r\n\r\nexport const SET_ACTIVE_TYPE_OF_INTERVAL = \"SET_ACTIVE_TYPE_OF_INTERVAL\";\r\nexport const SET_NEW_INTERVAL = \"SET_NEW_INTERVAL\";\r\nexport const INTERVALS_SETTINGS_ACTION = \"INTERVALS_SETTINGS_ACTION\";\r\nexport const INVERSE_CHOSEN_INTERVAL = \"INVERSE_CHOSEN_INTERVAL\";\r\nexport const GET_ANSWER_INTERVAL = \"GET_ANSWER_INTERVAL\";\r\nexport const GET_NEXT_INTERVAL = \"GET_NEXT_INTERVAL\";\r\nexport const SET_ACTIVE_KEYBOARD_INTERVAL = \"SET_ACTIVE_KEYBOARD_INTERVAL\";\r\n\r\nexport const SHOW_THE_CORRECT_INTERVAL = \"SHOW_THE_CORRECT_INTERVAL\";\r\nexport const INCREMENT_RIGHT_ANSWERS = \"INCREMENT_RIGHT_ANSWERS\";\r\nexport const INCREMENT_AMOUNT_OF_ANSWERS = \"INCREMENT_AMOUNT_OF_ANSWERS\";\r\nexport const NEXT_BUTTON_CLICK = \"NEXT_BUTTON_CLICK\";\r\nexport const STATISTICS_CLEARING = \"STATISTICS_CLEARING\";\r\nexport const STATISTICS_HIDE_ANSWER = \"STATISTICS_HIDE_ANSWER\";\r\n\r\nexport const GET_NEW_MELODY = \"GET_NEW_MELODY\";\r\nexport const CHANGE_MODE = \"CHANGE_MODE\";\r\nexport const ADD_NOTE_TO_ANSWER_ARRAY = \"ADD_NOTE_TO_ANSWER_ARRAY\";\r\nexport const POP_LAST_ELEM_FROM_ANSWER_ARRAY =\r\n  \"POP_LAST_ELEM_FROM_ANSWER_ARRAY\";\r\nexport const WRITE_ANSWERS = \"WRITE_ANSWERS\";\r\nexport const CLEAR_WRITTEN_MELODY = \"CLEAR_WRITTEN_MELODY\";\r\nexport const CHANGE_SETTINGS = \"CHANGE_SETTINGS\";\r\n\r\nexport const SET_INITIAL_STATE = \"SET_INITIAL_STATE\";\r\n","import Menu from \"../components/menu/Menu\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { actionMenuAction } from \"../store/actions/applicationActions\";\r\n\r\nconst mapStateToProps = ({ application }) => ({\r\n  menuIsOpen: application.menuIsOpen\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  actionMenuAction\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Menu);\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst StatInfo = ({ rightAnswers, amountOfAnswers }) => {\r\n  const percent =\r\n    amountOfAnswers !== 0\r\n      ? Math.floor(Math.round((rightAnswers / amountOfAnswers) * 100))\r\n      : \"0\";\r\n  return (\r\n    <React.Fragment>\r\n      <span>{rightAnswers}</span>&nbsp;/&nbsp;\r\n      <span>{amountOfAnswers}</span>&nbsp;\r\n      <span>({percent}%)</span>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nStatInfo.propTypes = {\r\n  rightAnswers: PropTypes.number.isRequired,\r\n  amountOfAnswers: PropTypes.number.isRequired\r\n};\r\n\r\nexport default StatInfo;\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst StatIntervalName = ({ name }) => {\r\n  return <span>{name}</span>;\r\n};\r\n\r\nStatIntervalName.propTypes = {\r\n  name: PropTypes.string.isRequired\r\n};\r\n\r\nexport default StatIntervalName;\r\n","import React from \"react\";\r\nimport StatInfo from \"./statInfo/StatInfo\";\r\nimport StatIntervalName from \"./statInfo/StatIntervalName\";\r\nimport \"./stat.css\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Stat = ({\r\n  stat: { nameOfInterval, right, rightAnswers, amountOfAnswers, showAnswer }\r\n}) => {\r\n  const statBody = nameOfInterval ? (\r\n    <StatIntervalName name={nameOfInterval} />\r\n  ) : (\r\n      <StatInfo rightAnswers={rightAnswers} amountOfAnswers={amountOfAnswers} />\r\n    );\r\n\r\n  let classesNames = [\"stat\"];\r\n\r\n  if (showAnswer) {\r\n    if (right) {\r\n      classesNames.push(\"rightAnswer\");\r\n    } else {\r\n      classesNames.push(\"wrongAnswer\");\r\n    }\r\n  }\r\n\r\n  return <div className={classesNames.join(\" \")}>{statBody}</div>;\r\n};\r\n\r\nStat.propTypes = {\r\n  stat: PropTypes.shape({\r\n    nameOfInterval: PropTypes.string,\r\n    right: PropTypes.bool.isRequired,\r\n    rightAnswers: PropTypes.number.isRequired,\r\n    amountOfAnswers: PropTypes.number.isRequired,\r\n    showAnswer: PropTypes.bool.isRequired\r\n  }).isRequired\r\n};\r\n\r\nexport default Stat;\r\n","import Statistics from \"../components/header/stat/Stat\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = ({ statistics }) => ({\r\n  stat: statistics\r\n});\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Statistics);\r\n","import React from \"react\";\r\nimport Stat from \"../../containers/statContainer\";\r\nimport \"./header.css\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport ErrorBoundary from \"../ErrorBoundary/ErrorBoundary\";\r\n\r\nconst Header = ({ stat, mode }) => {\r\n  return (\r\n    <ErrorBoundary>\r\n      <div className=\"header\">\r\n        {stat ? <Stat /> : null}\r\n        {mode ? <h2>{mode}</h2> : null}\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nHeader.propTypes = {\r\n  stat: PropTypes.bool.isRequired,\r\n  mode: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Header;\r\n","import Header from \"../components/header/Header\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = ({ application }) => ({\r\n\tmode: application.mode,\r\n\tstat: application.stat\r\n});\r\n\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PianoKey = ({ elem, className, sharp, play }) => {\r\n  const handleClick = () => {\r\n    play(elem.key);\r\n  };\r\n  return (\r\n    <div className={className.join(\" \")} onClick={handleClick}>\r\n      {sharp ? elem.name : elem.fullName}\r\n    </div>\r\n  );\r\n};\r\n\r\nPianoKey.propTypes = {\r\n  elem: PropTypes.shape({\r\n    key: PropTypes.number,\r\n    name: PropTypes.string,\r\n    fullName: PropTypes.string\r\n  }),\r\n  className: PropTypes.arrayOf(PropTypes.string),\r\n  sharp: PropTypes.bool,\r\n  play: PropTypes.func\r\n};\r\n\r\nPianoKey.defaultProps = {\r\n  play: () => {}\r\n};\r\n\r\nexport default PianoKey;\r\n","import React from \"react\";\r\nimport PianoKey from \"./PianoKey\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PianoSection = ({ elem, play }) => {\r\n  const section = elem.map(elem => {\r\n    const sharp = elem.name.includes(\"#\");\r\n    let className = [\"piano-key\"];\r\n    const colorKey = sharp ? \"piano-black-key\" : \"piano-white-key\";\r\n    className.push(colorKey);\r\n\r\n    if (elem.active) {\r\n      className.push(\"piano-key-active\");\r\n    }\r\n    if (elem.right) {\r\n      className.push(\"piano-key-right\");\r\n    }\r\n\r\n    if (elem.wrong) {\r\n      className.push(\"piano-key-wrong\");\r\n    }\r\n\r\n    return (\r\n      <PianoKey play={play} key={elem.key} elem={elem} className={className} />\r\n    );\r\n  });\r\n\r\n  return section;\r\n};\r\n\r\nPianoSection.propTypes = {\r\n  play: PropTypes.func,\r\n  elem: PropTypes.arrayOf(PropTypes.object)\r\n};\r\n\r\nPianoSection.defaultProps = {\r\n  play: () => {},\r\n  elem: []\r\n};\r\n\r\nexport default PianoSection;\r\n","import React from \"react\";\r\nimport PianoSection from \"./PianoSection\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PianoBody = ({ arrOfNotes, play }) => {\r\n  const bodyPiano = arrOfNotes.map(elem => {\r\n    const elemJSX = <PianoSection elem={elem} play={play} />;\r\n    return (\r\n      <div key={elem[0].fullName} className={\"piano-keys-section\"}>\r\n        {elemJSX}\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return bodyPiano;\r\n};\r\n\r\nPianoBody.propTypes = {\r\n  arrOfNotes: PropTypes.arrayOf(PropTypes.array),\r\n  play: PropTypes.func\r\n};\r\n\r\nPianoBody.defaultProps = {\r\n  arrOfNotes: [],\r\n  play: () => {}\r\n};\r\n\r\nexport default PianoBody;\r\n","import React from \"react\";\r\n\r\nimport \"./piano.css\";\r\nimport PianoBody from \"./PianoBody\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ErrorBoundary from \"../ErrorBoundary/ErrorBoundary\";\r\n\r\nclass Piano extends React.Component {\r\n  render() {\r\n    const { arrOfNotes, play } = this.props;\r\n    return (\r\n      <ErrorBoundary>\r\n        <div className=\"piano\">\r\n          <PianoBody arrOfNotes={arrOfNotes} play={play} />\r\n        </div>\r\n      </ErrorBoundary>\r\n    );\r\n  }\r\n}\r\n\r\nPiano.propTypes = {\r\n  arrOfNotes: PropTypes.arrayOf(PropTypes.array),\r\n  play: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Piano;\r\n","import Piano from \"../components/piano/Piano\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = ({ piano }) => ({\r\n  arrOfNotes: piano.arrOfNotes\r\n});\r\n\r\nexport default connect(mapStateToProps)(Piano);\r\n","import React from \"react\";\r\nimport ButtonsGroup from \"../buttonsGroup/ButtonsGroup\";\r\nimport Button from \"../button/Button\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst LeftSideButtons = ({\r\n  sequenceOfNotes,\r\n  nextSequenceOfNotes,\r\n  typeOfInterval,\r\n  settingsIsOpen,\r\n  showAnswer,\r\n  sliceArr,\r\n  duration,\r\n  play,\r\n  actionIntervalsSettingsAction,\r\n  actionNextButtonClick,\r\n  actionGetNextInterval,\r\n  actionHideAnswer,\r\n  actionUpdatePianoKeys,\r\n  actionKeyboardSetPlayFlag,\r\n  playFlag\r\n}) => {\r\n  const playInterval = () => {\r\n    let first, second;\r\n\r\n    if (showAnswer) {\r\n      first = nextSequenceOfNotes[0];\r\n      second = nextSequenceOfNotes[1];\r\n    } else {\r\n      first = sequenceOfNotes[0];\r\n      second = sequenceOfNotes[1];\r\n    }\r\n\r\n    switch (typeOfInterval) {\r\n      case \"melodicUp\": {\r\n        play(first);\r\n        setTimeout(() => {\r\n          play(second);\r\n        }, duration * 1000);\r\n        break;\r\n      }\r\n      case \"melodicDown\": {\r\n        play(second);\r\n        setTimeout(() => {\r\n          play(first);\r\n        }, duration * 1000);\r\n        break;\r\n      }\r\n      case \"harmonic\": {\r\n        play(first);\r\n        play(second);\r\n        break;\r\n      }\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const nextClickHandler = () => {\r\n    actionNextButtonClick(!settingsIsOpen);\r\n    actionGetNextInterval({ sliceArr });\r\n    actionUpdatePianoKeys();\r\n    actionHideAnswer();\r\n    playInterval();\r\n  };\r\n\r\n  const optionsClickHandler = () => {\r\n    actionIntervalsSettingsAction(!settingsIsOpen);\r\n    const initNewIntervalSequence = true;\r\n\r\n    if (settingsIsOpen) {\r\n      actionNextButtonClick();\r\n      actionUpdatePianoKeys();\r\n      actionHideAnswer();\r\n      actionGetNextInterval({ sliceArr, initNewIntervalSequence });\r\n    }\r\n  };\r\n\r\n  if (playFlag && !settingsIsOpen) {\r\n    setTimeout(() => {\r\n      actionKeyboardSetPlayFlag(false);\r\n    }, 300);\r\n    if (showAnswer) {\r\n      nextClickHandler();\r\n\r\n    } else {\r\n      playInterval();\r\n    }\r\n  } else {\r\n    actionKeyboardSetPlayFlag(false);\r\n  }\r\n\r\n  const playButtonClasses = [(settingsIsOpen ? \"secondary\" : \"info\")];\r\n\r\n  if (playFlag) {\r\n    playButtonClasses.push(\"active\");\r\n  }\r\n\r\n  return (\r\n    <ButtonsGroup cls=\"horizontal\">\r\n      <Button\r\n        cls={playButtonClasses.join(\" \")}\r\n        disabled={settingsIsOpen ? true : false}\r\n        onClick={showAnswer ? nextClickHandler : playInterval}\r\n      >\r\n        {showAnswer ? \"Дальше\" : \"Играть интервал\"}\r\n      </Button>\r\n      <Button\r\n        cls={settingsIsOpen ? \"info\" : \"secondary\"}\r\n        onClick={optionsClickHandler}\r\n      >\r\n        {settingsIsOpen ? \"Установить\" : \"Настройки\"}\r\n      </Button>\r\n    </ButtonsGroup>\r\n  );\r\n};\r\n\r\nLeftSideButtons.propTypes = {\r\n  settingsIsOpen: PropTypes.bool,\r\n  sequenceOfNotes: PropTypes.arrayOf(PropTypes.number),\r\n  nextSequenceOfNotes: PropTypes.arrayOf(PropTypes.number),\r\n  typeOfInterval: PropTypes.string.isRequired,\r\n  showAnswer: PropTypes.bool,\r\n  sliceArr: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  duration: PropTypes.number.isRequired,\r\n  play: PropTypes.func.isRequired,\r\n  actionIntervalsSettingsAction: PropTypes.func.isRequired,\r\n  actionNextButtonClick: PropTypes.func.isRequired,\r\n  actionGetNextInterval: PropTypes.func.isRequired,\r\n  actionUpdatePianoKeys: PropTypes.func.isRequired,\r\n  actionHideAnswer: PropTypes.func.isRequired,\r\n  actionKeyboardSetPlayFlag: PropTypes.func.isRequired,\r\n  playFlag: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default LeftSideButtons;\r\n\r\n","import React from \"react\";\r\nimport ButtonsGroup from \"../buttonsGroup/ButtonsGroup\";\r\nimport Button from \"../button/Button\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst RightSideButtons = ({\r\n  actionSetActiveTypeOfInterval,\r\n  typeOfInterval,\r\n  changeModeFlag,\r\n  actionKeyboardSetChangeModeFlag\r\n}) => {\r\n  const primary = \"primary active\";\r\n  const primaryOutline = \"primary-outline\";\r\n  const modes = [\"melodicUp\", \"melodicDown\", \"harmonic\"];\r\n\r\n  const melodicUp = typeOfInterval === modes[0];\r\n  const melodicDown = typeOfInterval === modes[1];\r\n  const harmonic = typeOfInterval === modes[2];\r\n\r\n  const setModeFromKeyboard = () => {\r\n    const indexOfMode = modes.indexOf(typeOfInterval);\r\n\r\n    if (indexOfMode !== -1) {\r\n      actionSetActiveTypeOfInterval(modes[(indexOfMode + 1) % modes.length]);\r\n    }\r\n  };\r\n\r\n  if (changeModeFlag) {\r\n    actionKeyboardSetChangeModeFlag(false);\r\n    setModeFromKeyboard();\r\n  }\r\n\r\n  return (\r\n    <ButtonsGroup cls=\"horizontal\">\r\n      <Button\r\n        cls={melodicUp ? primary : primaryOutline}\r\n        onClick={() => {\r\n          actionSetActiveTypeOfInterval(modes[0]);\r\n        }}\r\n        disabled={melodicUp ? true : false}\r\n      >\r\n        Мелодический вверх\r\n      </Button>\r\n      <Button\r\n        cls={melodicDown ? primary : primaryOutline}\r\n        onClick={() => {\r\n          actionSetActiveTypeOfInterval(modes[1]);\r\n        }}\r\n        disabled={melodicDown ? true : false}\r\n      >\r\n        Мелодический вниз\r\n      </Button>\r\n      <Button\r\n        cls={harmonic ? primary : primaryOutline}\r\n        onClick={() => {\r\n          actionSetActiveTypeOfInterval(modes[2]);\r\n        }}\r\n        disabled={harmonic ? true : false}\r\n      >\r\n        Гармонический\r\n      </Button>\r\n    </ButtonsGroup>\r\n  );\r\n};\r\n\r\nRightSideButtons.propTypes = {\r\n  typeOfInterval: PropTypes.string.isRequired,\r\n  actionSetActiveTypeOfInterval: PropTypes.func.isRequired,\r\n  changeModeFlag: PropTypes.bool.isRequired,\r\n  actionKeyboardSetChangeModeFlag: PropTypes.func.isRequired\r\n\r\n};\r\n\r\nexport default RightSideButtons;\r\n","import React from \"react\";\r\nimport LeftSideButtons from \"./LeftSideButtons\";\r\nimport RightSideButtons from \"./RightSideButtons\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass IntervalsOptionButtons extends React.Component {\r\n  componentDidMount() {\r\n    const initNewIntervalSequence = true;\r\n\r\n    if (this.props.settingsIsOpen) {\r\n      this.props.actionIntervalsSettingsAction(false);\r\n    }\r\n\r\n    this.props.actionGetNextInterval({\r\n      sliceArr: this.props.sliceArr,\r\n      initNewIntervalSequence\r\n    });\r\n\r\n    this.props.actionSetMode({ mode: \"Поиск интервала\", stat: true });\r\n    this.props.actionUpdatePianoKeys();\r\n\r\n    if (this.props.playFlag) {\r\n      this.props.actionKeyboardSetPlayFlag(false);\r\n    }\r\n    if (this.props.changeModeFlag) {\r\n      this.props.actionKeyboardSetChangeModeFlag(false);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.actionStatisticsClearing();\r\n    this.props.actionIntervalsSettingsAction(false);\r\n    if (this.props.playFlag) {\r\n      this.props.actionKeyboardSetPlayFlag(false);\r\n    }\r\n    if (this.props.changeModeFlag) {\r\n      this.props.actionKeyboardSetChangeModeFlag(false);\r\n    }\r\n    if (this.props.changeModeFlag) {\r\n      this.props.actionKeyboardSetChangeModeFlag(false);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      sliceArr,\r\n      play,\r\n      typeOfInterval,\r\n      sequenceOfNotes,\r\n      nextSequenceOfNotes,\r\n      settingsIsOpen,\r\n      showAnswer,\r\n      duration,\r\n      actionSetActiveTypeOfInterval,\r\n      actionIntervalsSettingsAction,\r\n      actionNextButtonClick,\r\n      actionGetNextInterval,\r\n      actionHideAnswer,\r\n      actionUpdatePianoKeys,\r\n      playFlag,\r\n      actionKeyboardSetPlayFlag,\r\n      changeModeFlag,\r\n      actionKeyboardSetChangeModeFlag\r\n    } = this.props;\r\n\r\n\r\n    return (\r\n      <div className=\"intervalsOptionsButtons\">\r\n        <LeftSideButtons\r\n          sequenceOfNotes={sequenceOfNotes}\r\n          nextSequenceOfNotes={nextSequenceOfNotes}\r\n          typeOfInterval={typeOfInterval}\r\n          settingsIsOpen={settingsIsOpen}\r\n          showAnswer={showAnswer}\r\n          sliceArr={sliceArr}\r\n          duration={duration}\r\n          play={play}\r\n          actionIntervalsSettingsAction={actionIntervalsSettingsAction}\r\n          actionNextButtonClick={actionNextButtonClick}\r\n          actionGetNextInterval={actionGetNextInterval}\r\n          actionUpdatePianoKeys={actionUpdatePianoKeys}\r\n          actionHideAnswer={actionHideAnswer}\r\n          playFlag={playFlag}\r\n          actionKeyboardSetPlayFlag={actionKeyboardSetPlayFlag}\r\n        />\r\n        <RightSideButtons\r\n          typeOfInterval={typeOfInterval}\r\n          actionSetActiveTypeOfInterval={actionSetActiveTypeOfInterval}\r\n          changeModeFlag={changeModeFlag}\r\n          actionKeyboardSetChangeModeFlag={actionKeyboardSetChangeModeFlag}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIntervalsOptionButtons.propTypes = {\r\n  play: PropTypes.func.isRequired,\r\n  sliceArr: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  sequenceOfNotes: PropTypes.arrayOf(PropTypes.number),\r\n  nextSequenceOfNotes: PropTypes.arrayOf(PropTypes.number),\r\n  typeOfInterval: PropTypes.string.isRequired,\r\n  showAnswer: PropTypes.bool,\r\n  duration: PropTypes.number.isRequired,\r\n  actionSetActiveTypeOfInterval: PropTypes.func.isRequired,\r\n  actionIntervalsSettingsAction: PropTypes.func.isRequired,\r\n  actionNextButtonClick: PropTypes.func.isRequired,\r\n  actionGetNextInterval: PropTypes.func.isRequired,\r\n  actionStatisticsClearing: PropTypes.func.isRequired,\r\n  actionHideAnswer: PropTypes.func.isRequired,\r\n  actionSetMode: PropTypes.func.isRequired,\r\n  actionUpdatePianoKeys: PropTypes.func.isRequired,\r\n  settingsIsOpen: PropTypes.bool,\r\n  actionKeyboardSetPlayFlag: PropTypes.func.isRequired,\r\n  playFlag: PropTypes.bool.isRequired,\r\n  changeModeFlag: PropTypes.bool.isRequired,\r\n  actionKeyboardSetChangeModeFlag: PropTypes.func.isRequired\r\n\r\n\r\n\r\n};\r\n\r\nexport default IntervalsOptionButtons;\r\n","import {\r\n  INCREMENT_RIGHT_ANSWERS,\r\n  INCREMENT_AMOUNT_OF_ANSWERS,\r\n  NEXT_BUTTON_CLICK,\r\n  STATISTICS_CLEARING,\r\n  STATISTICS_HIDE_ANSWER\r\n} from \"../actionTypes\";\r\n\r\nexport const actionIncrementRightAnswers = name => ({\r\n  type: INCREMENT_RIGHT_ANSWERS,\r\n  payload: name\r\n});\r\n\r\nexport const actionIncrementAmountOfAnswers = name => ({\r\n  type: INCREMENT_AMOUNT_OF_ANSWERS,\r\n  payload: name\r\n});\r\n\r\nexport const actionNextButtonClick = name => ({\r\n  type: NEXT_BUTTON_CLICK,\r\n  payload: name\r\n});\r\n\r\nexport const actionStatisticsClearing = () => ({\r\n  type: STATISTICS_CLEARING\r\n});\r\n\r\nexport const actionHideAnswer = () => ({\r\n  type: STATISTICS_HIDE_ANSWER\r\n});\r\n\r\n","import {\r\n  UPDATE_PIANO_KEYS,\r\n  SET_BORDERS_OF_RANGE,\r\n  SHOW_NOTES_ON_THE_PIANO\r\n} from \"../actionTypes\";\r\n\r\nexport const actionUpdatePianoKeys = () => ({\r\n  type: UPDATE_PIANO_KEYS\r\n});\r\n\r\nexport const actionSetBordersOfRange = arr => ({\r\n  type: SET_BORDERS_OF_RANGE,\r\n  payload: { firstBorder: arr[0], secondBorder: arr[1] }\r\n});\r\n\r\nexport const actionShowNotesOnThePiano = payload => ({\r\n  type: SHOW_NOTES_ON_THE_PIANO,\r\n  payload\r\n});\r\n","import IntervalsOptionButtons from \"../components/intervals/IntervalsOptionButtons\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  actionSetActiveTypeOfInterval,\r\n  actionIntervalsSettingsAction,\r\n  actionGetNextInterval\r\n} from \"../store/actions/intervalsActions\";\r\n\r\nimport {\r\n  actionStatisticsClearing,\r\n  actionNextButtonClick,\r\n  actionHideAnswer\r\n} from \"../store/actions/statisticsActions\";\r\n\r\nimport { actionUpdatePianoKeys } from \"../store/actions/pianoActions\";\r\n\r\nimport { actionSetMode, actionKeyboardSetPlayFlag, actionKeyboardSetChangeModeFlag } from \"../store/actions/applicationActions\";\r\n\r\nconst mapStateToProps = ({ intervals, piano, application }) => ({\r\n  sliceArr: piano.sliceArr,\r\n  sequenceOfNotes: intervals.sequenceOfNotes,\r\n  nextSequenceOfNotes: intervals.nextSequenceOfNotes,\r\n  typeOfInterval: intervals.typeOfInterval,\r\n  showAnswer: intervals.showAnswer,\r\n  settingsIsOpen: intervals.settingsIsOpen,\r\n  duration: application.duration,\r\n  playFlag: application.playFlag,\r\n  changeModeFlag: application.changeModeFlag\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  actionSetActiveTypeOfInterval,\r\n  actionIntervalsSettingsAction,\r\n  actionNextButtonClick,\r\n  actionGetNextInterval,\r\n  actionStatisticsClearing,\r\n  actionHideAnswer,\r\n  actionSetMode,\r\n  actionUpdatePianoKeys,\r\n  actionKeyboardSetPlayFlag,\r\n  actionKeyboardSetChangeModeFlag\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(IntervalsOptionButtons);\r\n","import {\r\n  SET_ACTIVE_TYPE_OF_INTERVAL,\r\n  INTERVALS_SETTINGS_ACTION,\r\n  INVERSE_CHOSEN_INTERVAL,\r\n  GET_ANSWER_INTERVAL,\r\n  SHOW_THE_CORRECT_INTERVAL,\r\n  GET_NEXT_INTERVAL,\r\n  SET_ACTIVE_KEYBOARD_INTERVAL\r\n} from \"../actionTypes\";\r\n\r\nexport const actionSetActiveTypeOfInterval = active => ({\r\n  type: SET_ACTIVE_TYPE_OF_INTERVAL,\r\n  payload: active\r\n});\r\n\r\nexport const actionIntervalsSettingsAction = payload => ({\r\n  type: INTERVALS_SETTINGS_ACTION,\r\n  payload\r\n});\r\n\r\nexport const actionInverseChosenInterval = obj => ({\r\n  type: INVERSE_CHOSEN_INTERVAL,\r\n  payload: obj\r\n});\r\n\r\nexport const actionGetAnswerIntervals = () => ({\r\n  type: GET_ANSWER_INTERVAL\r\n});\r\n\r\nexport const actionShowTheCorrectInterval = () => ({\r\n  type: SHOW_THE_CORRECT_INTERVAL\r\n});\r\n\r\nexport const actionGetNextInterval = options => ({\r\n  type: GET_NEXT_INTERVAL,\r\n  payload: options\r\n});\r\n\r\nexport const actionSetActiveKeyboardInterval = obj => ({\r\n  type: SET_ACTIVE_KEYBOARD_INTERVAL,\r\n  payload: obj\r\n});\r\n","import React from \"react\";\r\nimport ButtonsGroup from \"../buttonsGroup/ButtonsGroup\";\r\nimport Button from \"../button/Button\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst GroupOfIntervals = ({\r\n  groupIndex,\r\n  group,\r\n  settingsIsOpen,\r\n  intervalClickHandler,\r\n  activeKeyboardInterval\r\n}) => {\r\n\r\n  const body = group.map((interval, index) => {\r\n\r\n    let cls = [\"secondary-outline\"];\r\n\r\n    if (activeKeyboardInterval && activeKeyboardInterval.name && activeKeyboardInterval.name === interval.name) {\r\n      cls.push(\"active\");\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        key={interval.name}\r\n        onClick={() => {\r\n          intervalClickHandler(interval);\r\n        }}\r\n        cls={cls.join(\" \")}\r\n      >\r\n        {settingsIsOpen ? (\r\n          <span className=\"check\">\r\n            {interval.chosen\r\n              ? String.fromCharCode(10003)\r\n              : String.fromCharCode(215)}\r\n          </span>\r\n        ) : null}\r\n        <b>{groupIndex * 4 + index + 1})&nbsp;</b>{interval.rusName}\r\n      </Button>\r\n    );\r\n  });\r\n\r\n  GroupOfIntervals.propTypes = {\r\n    groupIndex: PropTypes.number.isRequired,\r\n    group: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    settingsIsOpen: PropTypes.bool,\r\n    intervalClickHandler: PropTypes.func.isRequired,\r\n    activeKeyboardInterval: PropTypes.object\r\n  };\r\n\r\n  return <ButtonsGroup cls=\"vertical\">{body}</ButtonsGroup>;\r\n};\r\n\r\nexport default GroupOfIntervals;\r\n","export const dataOfIntervals = [\r\n  {\r\n    name: \"minorSecond\",\r\n    rusName: \"Малая Секунда\",\r\n    numberOfSemitones: 1,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"majorSecond\",\r\n    rusName: \"Большая Секунда\",\r\n    numberOfSemitones: 2,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"minorThird\",\r\n    rusName: \"Малая Терция\",\r\n    numberOfSemitones: 3,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"majorThird\",\r\n    rusName: \"Большая Терция\",\r\n    numberOfSemitones: 4,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"perfectFourth\",\r\n    rusName: \"Чистая Кварта\",\r\n    numberOfSemitones: 5,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"triton\",\r\n    rusName: \"Тритон\",\r\n    numberOfSemitones: 6,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"perfectFifth\",\r\n    rusName: \"Чистая Квинта\",\r\n    numberOfSemitones: 7,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"minorSixth\",\r\n    rusName: \"Малая Секста\",\r\n    numberOfSemitones: 8,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"majorSixth\",\r\n    rusName: \"Большая Секста\",\r\n    numberOfSemitones: 9,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"minorSeventh\",\r\n    rusName: \"Малая Септима\",\r\n    numberOfSemitones: 10,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"majorSeventh\",\r\n    rusName: \"Большая Септима\",\r\n    numberOfSemitones: 11,\r\n    chosen: true\r\n  },\r\n  {\r\n    name: \"octave\",\r\n    rusName: \"Октава\",\r\n    numberOfSemitones: 12,\r\n    chosen: true\r\n  }\r\n];\r\n\r\nexport const getChosenIntervals = arr => {\r\n  return arr.filter(elem => {\r\n    return elem.chosen;\r\n  });\r\n};\r\n\r\nexport const createGroupsOfIntervals = arr => {\r\n  const chunk = 4;\r\n  var i,\r\n    j,\r\n    tmp = [];\r\n  for (i = 0, j = arr.length; i < j; i += chunk) {\r\n    tmp.push(arr.slice(i, i + chunk));\r\n  }\r\n  return tmp;\r\n};\r\n\r\nexport const getNewInterval = arr => {\r\n  return arr[Math.floor(Math.random() * arr.length)];\r\n};\r\n\r\nexport const getNewSequenceOfNotes = (sliceArr, activeInterval) => {\r\n  const { numberOfSemitones } = activeInterval;\r\n\r\n  const sequence = getBordersOfSequence(sliceArr, numberOfSemitones);\r\n\r\n  return sequence;\r\n};\r\n\r\nconst getBordersOfSequence = (arr, num) => {\r\n  let firstNote = arr[Math.floor(Math.random() * arr.length)];\r\n  let secondNote = arr[arr.indexOf(firstNote) + num];\r\n\r\n  if (!secondNote) {\r\n    secondNote = arr[arr.length - 1];\r\n    firstNote = arr[arr.indexOf(secondNote) - num];\r\n  }\r\n\r\n  return [firstNote.key, secondNote.key];\r\n};\r\n","import React from \"react\";\r\nimport GroupOfIntervals from \"./GroupOfIntervals\";\r\n\r\nimport {\r\n  getChosenIntervals,\r\n  createGroupsOfIntervals\r\n} from \"../../store/dataOfIntervals\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ListOfIntervals = ({\r\n  settingsIsOpen,\r\n  allIntervals,\r\n  activeInterval,\r\n  showAnswer,\r\n  sequenceOfNotes,\r\n  actionInverseChosenInterval,\r\n  actionShowTheCorrectInterval,\r\n  actionIncrementRightAnswers,\r\n  actionIncrementAmountOfAnswers,\r\n  actionShowNotesOnThePiano,\r\n  intervalsKeyboardFlag,\r\n  actionKeyboardSetIntervalButtonFlag,\r\n  actionSetActiveKeyboardInterval,\r\n  activeKeyboardInterval\r\n}) => {\r\n  let arrayOfGroups = [];\r\n  let sortedIntervals = [];\r\n\r\n  if (settingsIsOpen) {\r\n    sortedIntervals = allIntervals;\r\n    arrayOfGroups = createGroupsOfIntervals(sortedIntervals);\r\n  } else {\r\n    sortedIntervals = getChosenIntervals(allIntervals);\r\n    arrayOfGroups = createGroupsOfIntervals(getChosenIntervals(allIntervals));\r\n  }\r\n\r\n  const checkAnswer = interval => {\r\n    actionShowTheCorrectInterval();\r\n    const right = activeInterval.name === interval.name;\r\n    const type = right ? \"right\" : \"wrong\";\r\n\r\n    if (right) {\r\n      actionIncrementRightAnswers(activeInterval.rusName);\r\n      actionShowNotesOnThePiano({ type, sequence: sequenceOfNotes });\r\n    } else {\r\n      actionIncrementAmountOfAnswers(activeInterval.rusName);\r\n      actionShowNotesOnThePiano({ type, sequence: sequenceOfNotes });\r\n    }\r\n  };\r\n\r\n  const intervalClickHandler = settingsIsOpen\r\n    ? actionInverseChosenInterval\r\n    : checkAnswer;\r\n\r\n  if (intervalsKeyboardFlag.intervalButtonFlag) {\r\n    const intervalKeyboardActive = sortedIntervals[intervalsKeyboardFlag.interval];\r\n\r\n    actionKeyboardSetIntervalButtonFlag(false);\r\n    actionSetActiveKeyboardInterval(intervalKeyboardActive);\r\n\r\n    setTimeout(() => {\r\n      // console.log(intervalClickHandler);\r\n      intervalClickHandler(intervalKeyboardActive);\r\n    }, 150);\r\n\r\n  }\r\n\r\n  if (activeKeyboardInterval && activeKeyboardInterval.hasOwnProperty(\"name\")) {\r\n    setTimeout(() => {\r\n      actionSetActiveKeyboardInterval({});\r\n    }, 150);\r\n  }\r\n\r\n  const body = arrayOfGroups.map((group, groupIndex) => (\r\n    <GroupOfIntervals\r\n      groupIndex={groupIndex}\r\n      group={group}\r\n      key={group[0].name}\r\n      settingsIsOpen={settingsIsOpen}\r\n      intervalClickHandler={intervalClickHandler}\r\n      activeKeyboardInterval={activeKeyboardInterval}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div\r\n      className=\"listOfIntervals\"\r\n      style={showAnswer && !settingsIsOpen ? { visibility: \"hidden\" } : null}\r\n    >\r\n      {body}\r\n    </div>\r\n  );\r\n};\r\n\r\nListOfIntervals.propTypes = {\r\n  actionInverseChosenInterval: PropTypes.func.isRequired,\r\n  actionShowTheCorrectInterval: PropTypes.func.isRequired,\r\n  actionIncrementRightAnswers: PropTypes.func.isRequired,\r\n  actionIncrementAmountOfAnswers: PropTypes.func.isRequired,\r\n  actionShowNotesOnThePiano: PropTypes.func.isRequired,\r\n  allIntervals: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  activeInterval: PropTypes.object,\r\n  showAnswer: PropTypes.bool,\r\n  sequenceOfNotes: PropTypes.arrayOf(PropTypes.number),\r\n  settingsIsOpen: PropTypes.bool,\r\n  intervalsKeyboardFlag: PropTypes.shape({\r\n    intervalButtonFlag: PropTypes.bool.isRequired,\r\n    interval: PropTypes.number.isRequired\r\n  }).isRequired,\r\n  actionKeyboardSetIntervalButtonFlag: PropTypes.func.isRequired,\r\n  activeKeyboardInterval: PropTypes.object,\r\n  actionSetActiveKeyboardInterval: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ListOfIntervals;\r\n","import ListOfIntervals from \"../components/intervals/ListOfIntervals\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  actionInverseChosenInterval,\r\n  actionShowTheCorrectInterval,\r\n  actionSetActiveKeyboardInterval\r\n} from \"../store/actions/intervalsActions\";\r\n\r\nimport {\r\n  actionIncrementRightAnswers,\r\n  actionIncrementAmountOfAnswers\r\n} from \"../store/actions/statisticsActions\";\r\n\r\nimport {\r\n  actionKeyboardSetIntervalButtonFlag\r\n} from \"../store/actions/applicationActions\";\r\n\r\nimport { actionShowNotesOnThePiano } from \"../store/actions/pianoActions\";\r\n\r\nconst mapStateToProps = ({ intervals, application }) => ({\r\n  settingsIsOpen: intervals.settingsIsOpen,\r\n  allIntervals: intervals.allIntervals,\r\n  activeInterval: intervals.activeInterval,\r\n  showAnswer: intervals.showAnswer,\r\n  sequenceOfNotes: intervals.sequenceOfNotes,\r\n  activeKeyboardInterval: intervals.activeKeyboardInterval,\r\n  intervalsKeyboardFlag: application.intervalsKeyboardFlag\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  actionInverseChosenInterval,\r\n  actionShowTheCorrectInterval,\r\n  actionIncrementRightAnswers,\r\n  actionIncrementAmountOfAnswers,\r\n  actionShowNotesOnThePiano,\r\n  actionKeyboardSetIntervalButtonFlag,\r\n  actionSetActiveKeyboardInterval\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ListOfIntervals);\r\n","import React from \"react\";\r\nimport \"./intervals.css\";\r\n\r\nimport IntervalsOptionButtonsContainer from \"../../containers/IntervalsOptionButtonsContainer\";\r\nimport ListOfIntervalsContainer from \"../../containers/listOfIntervalsContainer\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport ErrorBoundary from \"../ErrorBoundary/ErrorBoundary\";\r\n\r\nconst Intervals = ({ play }) => {\r\n  return (\r\n    <ErrorBoundary>\r\n      <div className=\"intervals\">\r\n        <IntervalsOptionButtonsContainer\r\n          play={play}\r\n        ></IntervalsOptionButtonsContainer>\r\n\r\n        <ListOfIntervalsContainer />\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nIntervals.propTypes = {\r\n  play: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Intervals;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"../button/Button\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class ActivateMidi extends Component {\r\n  state = { status: \"\" };\r\n\r\n  onMIDIOnStateChange = event => {\r\n    this.setState({\r\n      status:\r\n        event.port.manufacturer + \" \" + event.port.name + \" \" + event.port.state\r\n    });\r\n  };\r\n\r\n  requestMIDIAccessSuccess = midi => {\r\n    const inputs = midi.inputs.values();\r\n    for (\r\n      let input = inputs.next();\r\n      input && !input.done;\r\n      input = inputs.next()\r\n    ) {\r\n      input.value.onmidimessage = this.midiOnMIDImessage;\r\n    }\r\n    midi.onstatechange = this.onMIDIOnStateChange;\r\n  };\r\n\r\n  requestMIDIAccessFailure = () => {\r\n    this.setState({ status: \"MIDI Access Failure\" });\r\n  };\r\n\r\n  midiOnMIDImessage = event => {\r\n    const keydown = 144;\r\n    const keyup = 128;\r\n    const velocity = event.data[2];\r\n\r\n    const eventKey = event.data[0];\r\n    const note = event.data[1];\r\n\r\n    const { sliceArr } = this.props;\r\n    if (note >= sliceArr[0].key && note <= sliceArr[sliceArr.length - 1].key) {\r\n      const options = { sequence: [note], type: \"active\" };\r\n\r\n      if (eventKey === keydown && velocity !== 0) {\r\n        this.props.actionShowNotesOnThePiano(options);\r\n        this.props.play(note);\r\n      } else if (eventKey === keyup || velocity === 0) {\r\n        this.props.actionUpdatePianoKeys();\r\n      }\r\n    }\r\n  };\r\n\r\n  startListening = () => {\r\n    this.setState({ status: \"waiting\" });\r\n    if (navigator.requestMIDIAccess) {\r\n      navigator\r\n        .requestMIDIAccess({ sysex: true })\r\n        .then(this.requestMIDIAccessSuccess, this.requestMIDIAccessFailure);\r\n    } else {\r\n      this.setState({ status: \"Нет доступа к миди-устройству\" });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"activate-midi\">\r\n        <Button cls=\"primary\" onClick={this.startListening}>\r\n          Включить MIDI клавиатуру\r\n        </Button>\r\n        <p style={{ marginTop: \"20px\", marginBottom: \"20px\" }}>\r\n          <b>Статус midi:</b>{\" \"}\r\n          {this.state.status ? this.state.status : \"отключена\"}\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nActivateMidi.propTypes = {\r\n  sliceArr: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  play: PropTypes.func.isRequired,\r\n  actionShowNotesOnThePiano: PropTypes.func.isRequired,\r\n  actionUpdatePianoKeys: PropTypes.func.isRequired\r\n};\r\n","import ActivateMidi from \"../components/activateMidi/ActivateMidi\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  actionShowNotesOnThePiano,\r\n  actionUpdatePianoKeys\r\n} from \"../store/actions/pianoActions\";\r\n\r\nconst mapStateToProps = ({ piano }) => ({\r\n  sliceArr: piano.sliceArr\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  actionShowNotesOnThePiano,\r\n  actionUpdatePianoKeys\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ActivateMidi);\r\n","import React, { Component } from \"react\";\r\n\r\nimport ButtonsGroup from \"../buttonsGroup/ButtonsGroup\";\r\nimport Button from \"../button/Button\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport ErrorBoundary from \"../ErrorBoundary/ErrorBoundary\";\r\n\r\nexport default class FindNote extends Component {\r\n  componentDidMount() {\r\n    this.props.actionSetActiveNote(this.props.sliceArr);\r\n    this.props.actionSetMode({ mode: \"Искать ноту\", stat: true });\r\n    this.props.actionUpdatePianoKeys();\r\n    if (this.props.playFlag) {\r\n      this.props.actionKeyboardSetPlayFlag(false);\r\n    }\r\n    if (this.props.changeModeFlag) {\r\n      this.props.actionKeyboardSetChangeModeFlag(false);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.actionStatisticsClearing();\r\n    if (this.props.playFlag) {\r\n      this.props.actionKeyboardSetPlayFlag(false);\r\n    }\r\n    if (this.props.changeModeFlag) {\r\n      this.props.actionKeyboardSetChangeModeFlag(false);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const { needToWriteNote, playNote, note, actionIncrementRightAnswers, actionIncrementAmountOfAnswers, actionSetActiveNote, playFlag, actionKeyboardSetPlayFlag, changeModeFlag, actionKeyboardSetChangeModeFlag, sliceArr } = this.props;\r\n\r\n    if (prevProps.needToWriteNote && !needToWriteNote) {\r\n      if (playNote !== null) {\r\n        const playNoteKey = playNote.key;\r\n\r\n        if (playNoteKey === note) {\r\n          actionIncrementRightAnswers();\r\n          this.setVisualEffect({ right: true });\r\n        } else {\r\n          actionIncrementAmountOfAnswers();\r\n          this.setVisualEffect({ right: false, note });\r\n        }\r\n        actionSetActiveNote(sliceArr);\r\n      }\r\n    }\r\n\r\n    if (playFlag) {\r\n      this.playButtonHandler();\r\n      setTimeout(() => {\r\n        actionKeyboardSetPlayFlag(false);\r\n      }, 300);\r\n    }\r\n    if (changeModeFlag) {\r\n      this.setMode(!needToWriteNote);\r\n      actionKeyboardSetChangeModeFlag(false);\r\n    }\r\n  }\r\n\r\n  setVisualEffect = ({ right, note }) => {\r\n    const sequence = [this.props.playNote.key];\r\n    if (right) {\r\n      this.setRightVisualEffect({ sequence });\r\n    } else {\r\n      this.setWrongVisualEffect({ sequence, note });\r\n    }\r\n  };\r\n\r\n  setRightVisualEffect = ({ sequence }) => {\r\n    const options = { sequence, type: \"right\" };\r\n    this.props.actionShowNotesOnThePiano(options);\r\n\r\n    setTimeout(() => {\r\n      this.props.actionUpdatePianoKeys();\r\n      this.props.actionHideAnswer();\r\n    }, 2000);\r\n  };\r\n\r\n  setWrongVisualEffect = ({ sequence, note }) => {\r\n    const options1 = {\r\n      sequence,\r\n      type: \"wrong\"\r\n    };\r\n\r\n    const options2 = {\r\n      sequence: [note],\r\n      type: \"right\"\r\n    };\r\n\r\n    this.props.actionShowNotesOnThePiano(options1);\r\n    this.props.actionShowNotesOnThePiano(options2);\r\n\r\n    setTimeout(() => {\r\n      this.props.actionUpdatePianoKeys();\r\n      this.props.actionHideAnswer();\r\n    }, 1500);\r\n  };\r\n\r\n  playButtonHandler = () => {\r\n    const { note } = this.props;\r\n\r\n    this.props.play(note);\r\n    this.setMode(false);\r\n  };\r\n\r\n  answerButtonHandler = () => {\r\n    this.setMode(true);\r\n  };\r\n\r\n  setMode = bool => {\r\n    if (this.props.needToWriteNote !== bool) {\r\n      this.props.actionNeedToWriteNote(bool);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { needToWriteNote, playFlag } = this.props;\r\n    const { playButtonHandler, answerButtonHandler } = this;\r\n\r\n    const playButtonClasses = [(needToWriteNote ? \"secondary-outline\" : \"info\")];\r\n\r\n    if (playFlag) {\r\n      playButtonClasses.push(\"active\");\r\n    }\r\n\r\n    return (\r\n      <ErrorBoundary>\r\n        <div className=\"findNote\">\r\n          <ButtonsGroup cls=\"horizontal\">\r\n            <Button\r\n              cls={playButtonClasses.join(\" \")}\r\n              onClick={playButtonHandler}\r\n            >\r\n              Играть ноту\r\n          </Button>\r\n            <Button\r\n              cls={needToWriteNote ? \"info\" : \"secondary-outline\"}\r\n              onClick={answerButtonHandler}\r\n            >\r\n              Ответить\r\n          </Button>\r\n          </ButtonsGroup>\r\n        </div>\r\n      </ErrorBoundary>\r\n    );\r\n  }\r\n}\r\n\r\nFindNote.propTypes = {\r\n  play: PropTypes.func.isRequired,\r\n  actionSetActiveNote: PropTypes.func.isRequired,\r\n  actionUpdatePianoKeys: PropTypes.func.isRequired,\r\n  actionSetMode: PropTypes.func.isRequired,\r\n  actionShowNotesOnThePiano: PropTypes.func.isRequired,\r\n  actionNeedToWriteNote: PropTypes.func.isRequired,\r\n  actionHideAnswer: PropTypes.func.isRequired,\r\n  actionIncrementAmountOfAnswers: PropTypes.func.isRequired,\r\n  actionIncrementRightAnswers: PropTypes.func.isRequired,\r\n  actionStatisticsClearing: PropTypes.func.isRequired,\r\n  statistics: PropTypes.shape({\r\n    rightAnswers: PropTypes.number.isRequired,\r\n    amountOfAnswers: PropTypes.number.isRequired,\r\n    right: PropTypes.bool.isRequired,\r\n    showAnswer: PropTypes.bool.isRequired\r\n  }).isRequired,\r\n  note: PropTypes.number,\r\n  sliceArr: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  playNote: PropTypes.object,\r\n  needToWriteNote: PropTypes.bool.isRequired,\r\n  playFlag: PropTypes.bool.isRequired,\r\n  actionKeyboardSetPlayFlag: PropTypes.func.isRequired,\r\n  changeModeFlag: PropTypes.bool.isRequired,\r\n  actionKeyboardSetChangeModeFlag: PropTypes.func.isRequired\r\n};\r\n\r\n","import FindNote from \"../components/findNote/FindNote\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { actionSetActiveNote } from \"../store/actions/notesActions\";\r\n\r\nimport {\r\n  actionStatisticsClearing,\r\n  actionIncrementRightAnswers,\r\n  actionIncrementAmountOfAnswers,\r\n  actionHideAnswer\r\n} from \"../store/actions/statisticsActions\";\r\n\r\nimport { actionNeedToWriteNote, actionSetMode, actionKeyboardSetPlayFlag, actionKeyboardSetChangeModeFlag } from \"../store/actions/applicationActions\";\r\n\r\nimport {\r\n  actionShowNotesOnThePiano,\r\n  actionUpdatePianoKeys\r\n} from \"../store/actions/pianoActions\";\r\n\r\nconst mapStateToProps = ({ statistics, notes, piano, application }) => ({\r\n  statistics,\r\n  note: notes.note,\r\n  sliceArr: piano.sliceArr,\r\n  playNote: application.playNote,\r\n  needToWriteNote: application.needToWriteNote,\r\n  playFlag: application.playFlag,\r\n  changeModeFlag: application.changeModeFlag\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  actionStatisticsClearing,\r\n  actionSetActiveNote,\r\n  actionIncrementRightAnswers,\r\n  actionIncrementAmountOfAnswers,\r\n  actionNeedToWriteNote,\r\n  actionShowNotesOnThePiano,\r\n  actionHideAnswer,\r\n  actionSetMode,\r\n  actionUpdatePianoKeys,\r\n  actionKeyboardSetPlayFlag,\r\n  actionKeyboardSetChangeModeFlag\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(FindNote);\r\n","import { SET_ACTIVE_NOTE } from \"../actionTypes\";\r\n\r\nexport const actionSetActiveNote = arr => ({\r\n  type: SET_ACTIVE_NOTE,\r\n  sliceArr: arr\r\n});\r\n\r\n","import React from \"react\";\r\nimport ButtonsGroup from \"../buttonsGroup/ButtonsGroup\";\r\nimport Button from \"../button/Button\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst DictationPlayButtons = ({ playGuessedMelody, playWrittenMelody, playFlag, playWrittenMelodyFlag }) => {\r\n\r\n  const playGuessedButtonClasses = [(\"secondary-outline\")];\r\n  const playWrittenMelodyButtonClasses = [(\"secondary-outline\")];\r\n\r\n  if (playFlag) {\r\n    playGuessedButtonClasses.push(\"active\");\r\n  }\r\n\r\n  if (playWrittenMelodyFlag) {\r\n    playWrittenMelodyButtonClasses.push(\"active\");\r\n  }\r\n\r\n  return (\r\n    <ButtonsGroup cls=\"horizontal\">\r\n      <Button cls={playGuessedButtonClasses.join(\" \")} onClick={playGuessedMelody}>Играть угадываемую мелодию</Button>\r\n      <Button cls={playWrittenMelodyButtonClasses.join(\" \")} onClick={playWrittenMelody}>Играть написанную мелодию</Button>\r\n    </ButtonsGroup>\r\n  );\r\n};\r\n\r\nDictationPlayButtons.propTypes = {\r\n  playGuessedMelody: PropTypes.func.isRequired,\r\n  playWrittenMelody: PropTypes.func.isRequired,\r\n  playFlag: PropTypes.bool.isRequired,\r\n  playWrittenMelodyFlag: PropTypes.bool\r\n};\r\n\r\nDictationPlayButtons.defaultProps = {\r\n  playWrittenMelodyFlag: false\r\n};\r\n\r\nexport default DictationPlayButtons;\r\n","import React from \"react\";\r\nimport ButtonsGroup from \"../buttonsGroup/ButtonsGroup\";\r\nimport Button from \"../button/Button\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\nconst DictationOptionsButtons = ({\r\n  modeWrite,\r\n  changeMode,\r\n  clearButtonHandler,\r\n  checkAnswerHandler,\r\n  readyToCheck,\r\n  answerGiven,\r\n  nextPlayButtonHandler,\r\n  settingsButtonHandler,\r\n  dictationClearNoteFlag\r\n}) => {\r\n\r\n  const access = readyToCheck && !answerGiven;\r\n  // const access = amountOfNotes === sequenceOfWrittenMelody.length && !answerGiven;\r\n\r\n\r\n  const clearButtonClasses = [\"secondary-outline\"];\r\n\r\n  if (dictationClearNoteFlag) {\r\n    clearButtonClasses.push(\"active\");\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"dictation-options-buttons\">\r\n      <ButtonsGroup cls=\"horizontal\">\r\n        <Button\r\n          onClick={nextPlayButtonHandler}\r\n          cls={modeWrite ? \"info-outline\" : \"info active\"}\r\n          disabled={modeWrite ? false : true}\r\n        >\r\n          {answerGiven ? \"Далее\" : \"Играть\"}\r\n        </Button>\r\n        {answerGiven ? null : (\r\n          <Button\r\n            onClick={changeMode}\r\n            cls={modeWrite ? \"info active\" : \"info-outline\"}\r\n            disabled={modeWrite ? true : false}\r\n          >\r\n            Писать\r\n          </Button>\r\n        )}\r\n      </ButtonsGroup>\r\n      <ButtonsGroup cls=\"horizontal\">\r\n        <Button onClick={clearButtonHandler} cls={clearButtonClasses.join(\" \")}>Стереть</Button>\r\n        <Button\r\n          onClick={checkAnswerHandler}\r\n          cls={access ? \"danger\" : \"danger-outline\"}\r\n          disabled={!access}\r\n        >\r\n          Проверить\r\n        </Button>\r\n      </ButtonsGroup>\r\n      <Button cls=\"primary\" onClick={settingsButtonHandler}>\r\n        Настроки\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DictationOptionsButtons;\r\n\r\nDictationOptionsButtons.propTypes = {\r\n  modeWrite: PropTypes.bool.isRequired,\r\n  changeMode: PropTypes.func.isRequired,\r\n  nextPlayButtonHandler: PropTypes.func.isRequired,\r\n  clearButtonHandler: PropTypes.func.isRequired,\r\n  checkAnswerHandler: PropTypes.func.isRequired,\r\n  settingsButtonHandler: PropTypes.func.isRequired,\r\n  sequenceOfWrittenMelody: PropTypes.arrayOf(PropTypes.object),\r\n  amountOfNotes: PropTypes.number.isRequired,\r\n  answerGiven: PropTypes.bool.isRequired,\r\n  dictationClearNoteFlag: PropTypes.bool.isRequired,\r\n  readyToCheck: PropTypes.bool.isRequired\r\n};\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst DictationOutputElement = ({\r\n  elem,\r\n  index,\r\n  rightAnswer,\r\n  answerGiven,\r\n  rightElem\r\n}) => {\r\n  const cls = answerGiven ? (rightAnswer ? \"right\" : \"wrong\") : \"\";\r\n\r\n  const rightElemJSX = answerGiven ? (\r\n    rightAnswer ? null : (\r\n      <span className=\"right\">\r\n        &nbsp;\r\n        {rightElem ? `${rightElem.octaveName} - ${rightElem.fullName}` : \" ?\"}\r\n      </span>\r\n    )\r\n  ) : null;\r\n\r\n  return (\r\n    <p className=\"dictation-output-element\">\r\n      <span className=\"index-output-element\">{`${index + 1} нота:`}</span>&nbsp;\r\n      <span className={cls}>\r\n        {elem ? `${elem.octaveName} - ${elem.fullName}` : \" ?\"}\r\n      </span>\r\n      {rightElemJSX}\r\n    </p>\r\n  );\r\n};\r\n\r\nDictationOutputElement.propTypes = {\r\n  elem: PropTypes.object,\r\n  index: PropTypes.number.isRequired,\r\n  rightAnswer: PropTypes.bool,\r\n  answerGiven: PropTypes.bool.isRequired,\r\n  rightElem: PropTypes.object\r\n};\r\n\r\nexport default DictationOutputElement;\r\n","import React from \"react\";\r\nimport DictationOutputElement from \"./DictationOutputElement\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst DictationOutput = ({\r\n  amountOfNotes,\r\n  sequenceOfMelody,\r\n  sequenceOfWrittenMelody,\r\n  answerGiven,\r\n  answers\r\n}) => {\r\n  let dictationOutputBody = [];\r\n\r\n  for (let i = 0; i < amountOfNotes; i++) {\r\n    const elem = sequenceOfWrittenMelody[i];\r\n    const rightElem = sequenceOfMelody[i];\r\n    const elementJSX = (\r\n      <DictationOutputElement\r\n        elem={elem}\r\n        index={i}\r\n        answerGiven={answerGiven}\r\n        rightAnswer={answers[i]}\r\n        rightElem={rightElem}\r\n        key={i}\r\n      />\r\n    );\r\n\r\n    dictationOutputBody.push(elementJSX);\r\n  }\r\n  return (\r\n    <div className=\"dictation-output\">\r\n      <h3>Список отгаданных нот:</h3>\r\n      {dictationOutputBody}\r\n    </div>\r\n  );\r\n};\r\n\r\nDictationOutput.propTypes = {\r\n  amountOfNotes: PropTypes.number.isRequired,\r\n  needToWriteNote: PropTypes.bool.isRequired,\r\n  sequenceOfMelody: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  sequenceOfWrittenMelody: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  answers: PropTypes.arrayOf(PropTypes.bool).isRequired,\r\n  answerGiven: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default DictationOutput;\r\n","import React from \"react\";\r\nimport \"./select.css\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Select = ({ onChange, children, value }) => {\r\n\treturn <select className=\"select\" value={value} onChange={onChange}>\r\n\t\t{children}\r\n\t</select>;\r\n};\r\n\r\nSelect.propTypes = {\r\n\tvalue: PropTypes.PropTypes.oneOfType([\r\n\t\tPropTypes.bool,\r\n\t\tPropTypes.number\r\n\t]).isRequired,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tchildren: PropTypes.node.isRequired\r\n};\r\n\r\nexport default Select;","import React from \"react\";\r\nimport Select from \"../select/Select\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst amountOfNotes = [3, 4, 5, 6, 7];\r\n\r\nconst amountOfNotesOptions = amountOfNotes.map(elem => (\r\n  <option value={elem} key={elem}>\r\n    {elem}\r\n  </option>\r\n));\r\n\r\nconst SelectAmountOfNotes = ({ value, onChange }) => {\r\n  return (\r\n    <Select onChange={onChange} value={value}>\r\n      {amountOfNotesOptions}\r\n    </Select>\r\n  );\r\n};\r\n\r\nSelectAmountOfNotes.propTypes = {\r\n  value: PropTypes.number.isRequired,\r\n  onChange: PropTypes.func.isRequired\r\n};\r\n\r\nconst modes = [\r\n  { modePlay: false, ru: \"Играть\" },\r\n  { modePlay: true, ru: \"Писать\" }\r\n];\r\n\r\nconst modesOptions = modes.map(elem => (\r\n  <option value={elem.modePlay} key={elem.ru}>\r\n    {elem.ru}\r\n  </option>\r\n));\r\n\r\nconst SelectModes = ({ value, onChange }) => {\r\n  return (\r\n    <Select onChange={onChange} value={value}>\r\n      {modesOptions}\r\n    </Select>\r\n  );\r\n};\r\n\r\nSelectModes.propTypes = {\r\n  value: PropTypes.bool.isRequired,\r\n  onChange: PropTypes.func.isRequired\r\n};\r\n\r\n\r\nexport { SelectAmountOfNotes, SelectModes };\r\n","import React, { Component } from \"react\";\r\nimport ModalWindow from \"../modalWindow/ModalWindow\";\r\nimport { SelectAmountOfNotes, SelectModes } from \"./selectComponents\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class DictationSettings extends Component {\r\n  state = {\r\n    amountOfNotes: 4,\r\n    defaultModeWrite: false,\r\n    modeWrite: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { amountOfNotes, defaultModeWrite } = this.props;\r\n    this.setState({\r\n      amountOfNotes,\r\n      defaultModeWrite\r\n    });\r\n  }\r\n\r\n  selectAmountOfNotesHandler = e => {\r\n    this.setState({\r\n      amountOfNotes: +e.target.value\r\n    });\r\n  };\r\n\r\n  selectModesHandler = e => {\r\n    let defaultModeWrite, modeWrite;\r\n    const value = e.target.value;\r\n\r\n    if (value === \"true\") {\r\n      defaultModeWrite = true;\r\n      modeWrite = true;\r\n    }\r\n    if (value === \"false\") {\r\n      defaultModeWrite = false;\r\n      modeWrite = false;\r\n    }\r\n\r\n    this.setState({\r\n      defaultModeWrite,\r\n      modeWrite\r\n    });\r\n  };\r\n\r\n  saveButtonHandler = () => {\r\n    this.props.actionChangeSettings(this.state);\r\n  };\r\n\r\n  cancelButtonHandler = () => {\r\n    this.setState({\r\n      amountOfNotes: this.props.amountOfNotes,\r\n      defaultModeWrite: this.props.defaultModeWrite\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      settingsButtonHandler\r\n    } = this.props;\r\n\r\n    const { amountOfNotes, defaultModeWrite } = this.state;\r\n\r\n    const {\r\n      selectAmountOfNotesHandler,\r\n      selectModesHandler,\r\n      saveButtonHandler,\r\n      cancelButtonHandler\r\n    } = this;\r\n    return (\r\n      <ModalWindow\r\n        close={settingsButtonHandler}\r\n        saveButton={true}\r\n        saveButtonName={\"Сохранить\"}\r\n        cancelButton={true}\r\n        cancelButtonName={\"Отменить\"}\r\n        saveButtonHandler={saveButtonHandler}\r\n        cancelButtonHandler={cancelButtonHandler}\r\n      >\r\n        <h3>Настройки диктанта</h3>\r\n        <h4>Количество нот:</h4>\r\n        <SelectAmountOfNotes\r\n          value={amountOfNotes}\r\n          onChange={selectAmountOfNotesHandler}\r\n        />\r\n        <h4>Режим по умолчанию:</h4>\r\n        <SelectModes value={defaultModeWrite} onChange={selectModesHandler} />\r\n      </ModalWindow>\r\n    );\r\n  }\r\n}\r\n\r\nDictationSettings.propTypes = {\r\n  settingsButtonHandler: PropTypes.func.isRequired,\r\n  actionChangeSettings: PropTypes.func.isRequired,\r\n  amountOfNotes: PropTypes.number.isRequired,\r\n  defaultModeWrite: PropTypes.bool.isRequired\r\n};\r\n\r\n","import DictationSettings from \"../components/dictation/DictationSettings\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { actionChangeSettings } from \"../store/actions/dictationActions\";\r\n\r\nconst mapStateToProps = ({ dictation }) => ({\r\n  amountOfNotes: dictation.amountOfNotes,\r\n  defaultModeWrite: dictation.defaultModeWrite\r\n});\r\n\r\nconst mapDispatchToProps = { actionChangeSettings };\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DictationSettings);\r\n","import {\r\n  GET_NEW_MELODY,\r\n  CHANGE_MODE,\r\n  ADD_NOTE_TO_ANSWER_ARRAY,\r\n  POP_LAST_ELEM_FROM_ANSWER_ARRAY,\r\n  WRITE_ANSWERS,\r\n  CLEAR_WRITTEN_MELODY,\r\n  CHANGE_SETTINGS\r\n} from \"../actionTypes\";\r\n\r\nexport const actionGetNewMelody = (sliceArr) => ({\r\n  type: GET_NEW_MELODY,\r\n  sliceArr\r\n});\r\n\r\nexport const actionChangeMode = (payload) => ({\r\n  type: CHANGE_MODE,\r\n  payload\r\n});\r\n\r\nexport const actionAddNoteToAnswerArray = (payload) => ({\r\n  type: ADD_NOTE_TO_ANSWER_ARRAY,\r\n  payload\r\n});\r\n\r\nexport const actionPopLastElemFromAnswerArray = () => ({\r\n  type: POP_LAST_ELEM_FROM_ANSWER_ARRAY\r\n});\r\n\r\nexport const actionWriteAnswers = (arr) => ({\r\n  type: WRITE_ANSWERS,\r\n  payload: arr\r\n});\r\n\r\nexport const actionClearWrittenMelody = () => ({\r\n  type: CLEAR_WRITTEN_MELODY\r\n});\r\n\r\nexport const actionChangeSettings = (settingsObj) => ({\r\n  type: CHANGE_SETTINGS,\r\n  payload: settingsObj\r\n});\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"./dictation.css\";\r\n\r\nimport DictationPlayButtons from \"./DictationPlayButtons\";\r\nimport DictationOptionsButtons from \"./DictationOptionsButtons\";\r\nimport DuctationOutput from \"./DictationOutput\";\r\nimport DictationSettings from \"../../containers/dictationSettingsContainer\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport ErrorBoundary from \"../ErrorBoundary/ErrorBoundary\";\r\n\r\nexport default class Dictation extends Component {\r\n  componentDidMount() {\r\n    const { defaultModeWrite } = this.props.dictation;\r\n    this.props.actionWritePlayNote(null, false);\r\n\r\n    this.changeMode(null, defaultModeWrite);\r\n\r\n    if (this.props.needToWriteNote !== defaultModeWrite) {\r\n      this.props.actionNeedToWriteNote(defaultModeWrite);\r\n    }\r\n\r\n    this.setNewMelody();\r\n    this.props.actionInitDictation(true);\r\n    this.props.actionSetMode({ mode: \"Музыкальный диктант\", stat: true });\r\n    this.props.actionUpdatePianoKeys();\r\n    this.props.actionClearWrittenMelody();\r\n    this.clearAnswers();\r\n\r\n    if (this.props.playFlag) {\r\n      this.props.actionKeyboardSetPlayFlag(false);\r\n    }\r\n    if (this.props.playWrittenMelodyFlag) {\r\n      this.props.actionKeyboardSetPlayWrittenMelodyFlag(false);\r\n    }\r\n    if (this.props.changeModeFlag) {\r\n      this.props.actionKeyboardSetChangeModeFlag(false);\r\n    }\r\n    if (this.props.modalWindowFlag) {\r\n      this.props.actionSetModalWindowFlag(false);\r\n    }\r\n    if (this.props.dictationClearNoteFlag) {\r\n      this.props.actionSetModalWindowFlag(false);\r\n    }\r\n    if (this.props.dictationCheckFlag) {\r\n      this.props.actionKeyboardSetDictationCheckFlag(false);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.actionInitDictation(false);\r\n    this.clearAnswers();\r\n    this.props.actionStatisticsClearing();\r\n    this.props.actionClearWrittenMelody();\r\n\r\n    if (this.props.modalWindowFlag) {\r\n      this.props.actionSetModalWindowFlag(false);\r\n    }\r\n    if (this.props.playFlag) {\r\n      this.props.actionKeyboardSetPlayFlag(false);\r\n    }\r\n    if (this.props.playWrittenMelodyFlag) {\r\n      this.props.actionKeyboardSetPlayWrittenMelodyFlag(false);\r\n    }\r\n    if (this.props.changeModeFlag) {\r\n      this.props.actionKeyboardSetChangeModeFlag(false);\r\n    }\r\n    if (this.props.dictationClearNoteFlag) {\r\n      this.props.actionSetModalWindowFlag(false);\r\n    }\r\n    if (this.props.dictationCheckFlag) {\r\n      this.props.actionKeyboardSetDictationCheckFlag(false);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevState) {\r\n    const { sequenceOfWrittenMelody, amountOfNotes, answerGiven, readyToCheck } = this.props.dictation;\r\n    const { playNote, playFlag, actionKeyboardSetPlayFlag, playWrittenMelodyFlag, actionKeyboardSetPlayWrittenMelodyFlag, changeModeFlag, dictationClearNoteFlag, actionKeyboardSetDictationClearNoteFlag, dictationCheckFlag,\r\n      actionKeyboardSetDictationCheckFlag } = this.props;\r\n\r\n    if (prevState.dictation.amountOfNotes !== amountOfNotes) {\r\n      this.setNewMelody();\r\n    }\r\n\r\n    if (sequenceOfWrittenMelody.length < amountOfNotes && playNote) {\r\n      if (\r\n        (prevState.playNote && playNote.id !== prevState.playNote.id) ||\r\n        (prevState.playNote === null && playNote !== null)\r\n      ) {\r\n        this.props.actionAddNoteToAnswerArray(playNote);\r\n      }\r\n    }\r\n\r\n    if (playFlag) {\r\n      this.playGuessedMelody();\r\n      setTimeout(() => {\r\n        actionKeyboardSetPlayFlag(false);\r\n      }, 300);\r\n    }\r\n\r\n    if (playWrittenMelodyFlag) {\r\n      this.playWrittenMelody();\r\n      setTimeout(() => {\r\n        actionKeyboardSetPlayWrittenMelodyFlag(false);\r\n      }, 300);\r\n    }\r\n\r\n    if (changeModeFlag) {\r\n      this.props.actionKeyboardSetChangeModeFlag(false);\r\n      this.nextPlayButtonHandler();\r\n    }\r\n\r\n    if (dictationClearNoteFlag) {\r\n      this.clearButtonHandler();\r\n      setTimeout(() => {\r\n        actionKeyboardSetDictationClearNoteFlag(false);\r\n      }, 300);\r\n    }\r\n\r\n    if (dictationCheckFlag) {\r\n      actionKeyboardSetDictationCheckFlag(false);\r\n      if (dictationCheckFlag && readyToCheck && !answerGiven) {\r\n        this.checkAnswerHandler();\r\n        setTimeout(() => {\r\n        }, 300);\r\n      }\r\n    }\r\n  }\r\n\r\n  setNewMelody = () => {\r\n    this.props.actionGetNewMelody(this.props.sliceArr);\r\n  };\r\n\r\n  clearAnswers = () => {\r\n    this.props.actionWriteAnswers([]);\r\n  };\r\n\r\n  playGuessedMelody = () => {\r\n    const sequence = this.props.dictation.sequenceOfMelody.map(\r\n      elem => elem.key\r\n    );\r\n\r\n    this.playMelody(sequence);\r\n  };\r\n\r\n  playWrittenMelody = () => {\r\n    const sequence = this.getKeysArrayOfMeloday(\r\n      this.props.dictation.sequenceOfWrittenMelody\r\n    );\r\n\r\n    this.playMelody(sequence);\r\n  };\r\n\r\n  playMelody = sequence => {\r\n    const onlyPlay = true;\r\n    for (let i = 0; i < sequence.length; i++) {\r\n      if (sequence[i]) {\r\n        setTimeout(() => {\r\n          this.props.play(sequence[i], onlyPlay);\r\n        }, this.props.duration * 1000 * i);\r\n      }\r\n    }\r\n  };\r\n\r\n  changeMode = (e, modeWrite) => {\r\n    modeWrite =\r\n      typeof modeWrite === \"boolean\"\r\n        ? modeWrite\r\n        : !this.props.dictation.modeWrite;\r\n\r\n    this.props.actionChangeMode(modeWrite);\r\n\r\n    this.props.actionNeedToWriteNote(modeWrite);\r\n  };\r\n\r\n  clearButtonHandler = () => {\r\n    if (this.props.dictation.sequenceOfWrittenMelody.length > 0) {\r\n      this.props.actionPopLastElemFromAnswerArray();\r\n    }\r\n  };\r\n\r\n  checkAnswerHandler = () => {\r\n    const arrKeysArrayOfMeloday = this.getKeysArrayOfMeloday(\r\n      this.props.dictation.sequenceOfMelody\r\n    );\r\n\r\n    const arrKeysArrayOfWrittenMeloday = this.getKeysArrayOfMeloday(\r\n      this.props.dictation.sequenceOfWrittenMelody\r\n    );\r\n    if (arrKeysArrayOfMeloday.length === arrKeysArrayOfWrittenMeloday.length) {\r\n      const checkAnswers = this.getArrayOfEqualsOfAnswers(arrKeysArrayOfMeloday\r\n        , arrKeysArrayOfWrittenMeloday);\r\n\r\n      this.changeStat(checkAnswers);\r\n      this.props.actionWriteAnswers(checkAnswers);\r\n    }\r\n  };\r\n\r\n  getKeysArrayOfMeloday = sequence => {\r\n    const arr = sequence.map(elem => elem.key);\r\n\r\n    return arr;\r\n  };\r\n\r\n  getArrayOfEqualsOfAnswers = (arr1, arr2) => {\r\n\r\n\r\n    const checkAnswers = [];\r\n    for (let i = 0; i < arr1.length; i++) {\r\n      checkAnswers.push(arr1[i] === arr2[i]);\r\n    }\r\n\r\n    return checkAnswers;\r\n  };\r\n\r\n  changeStat = arr => {\r\n    if (arr.indexOf(false) === -1) {\r\n      this.props.actionIncrementRightAnswers();\r\n    } else {\r\n      this.props.actionIncrementAmountOfAnswers();\r\n    }\r\n  };\r\n\r\n  nextButtonHandler = () => {\r\n    this.setNewMelody();\r\n\r\n    this.clearAnswers();\r\n\r\n    this.props.actionClearWrittenMelody();\r\n\r\n    this.props.actionHideAnswer();\r\n  };\r\n\r\n  settingsButtonHandler = () => {\r\n    this.props.actionSetModalWindowFlag(!this.props.modalWindowFlag);\r\n  };\r\n\r\n  nextPlayButtonHandler = () => {\r\n    this.changeMode();\r\n    if (this.props.dictation.answerGiven) {\r\n      this.nextButtonHandler();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const modeWrite = this.props.dictation.modeWrite || false;\r\n\r\n    const needToWriteNote = this.props.needToWriteNote;\r\n\r\n    const {\r\n      amountOfNotes,\r\n      sequenceOfMelody,\r\n      sequenceOfWrittenMelody,\r\n      answerGiven,\r\n      answers,\r\n      readyToCheck\r\n    } = this.props.dictation;\r\n\r\n    const { playFlag, playWrittenMelodyFlag, dictationClearNoteFlag } = this.props;\r\n\r\n    const { nextPlayButtonHandler, settingsButtonHandler } = this;\r\n\r\n    return (\r\n      <ErrorBoundary>\r\n        <div>\r\n          <DictationPlayButtons\r\n            playGuessedMelody={this.playGuessedMelody}\r\n            playWrittenMelody={this.playWrittenMelody}\r\n            playFlag={playFlag}\r\n            playWrittenMelodyFlag={playWrittenMelodyFlag}\r\n          />\r\n          <DictationOptionsButtons\r\n            modeWrite={modeWrite}\r\n            changeMode={this.changeMode}\r\n            clearButtonHandler={this.clearButtonHandler}\r\n            checkAnswerHandler={this.checkAnswerHandler}\r\n            sequenceOfWrittenMelody={sequenceOfWrittenMelody}\r\n            amountOfNotes={amountOfNotes}\r\n            answerGiven={answerGiven}\r\n            nextPlayButtonHandler={nextPlayButtonHandler}\r\n            settingsButtonHandler={settingsButtonHandler}\r\n            dictationClearNoteFlag={dictationClearNoteFlag}\r\n            readyToCheck={readyToCheck}\r\n          />\r\n          <DuctationOutput\r\n            amountOfNotes={amountOfNotes}\r\n            needToWriteNote={needToWriteNote}\r\n            sequenceOfMelody={sequenceOfMelody}\r\n            sequenceOfWrittenMelody={sequenceOfWrittenMelody}\r\n            answerGiven={answerGiven}\r\n            answers={answers}\r\n          />\r\n\r\n          {this.props.modalWindowFlag ? (\r\n            <DictationSettings settingsButtonHandler={settingsButtonHandler} />\r\n          ) : null}\r\n        </div>\r\n      </ErrorBoundary>\r\n    );\r\n  }\r\n}\r\n\r\nDictation.propTypes = {\r\n  sliceArr: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  play: PropTypes.func.isRequired,\r\n  needToWriteNote: PropTypes.bool.isRequired,\r\n  playNote: PropTypes.object,\r\n  actionGetNewMelody: PropTypes.func.isRequired,\r\n  actionChangeMode: PropTypes.func.isRequired,\r\n  actionNeedToWriteNote: PropTypes.func.isRequired,\r\n  actionInitDictation: PropTypes.func.isRequired,\r\n  actionAddNoteToAnswerArray: PropTypes.func.isRequired,\r\n  actionWritePlayNote: PropTypes.func.isRequired,\r\n  actionPopLastElemFromAnswerArray: PropTypes.func.isRequired,\r\n  actionWriteAnswers: PropTypes.func.isRequired,\r\n  actionStatisticsClearing: PropTypes.func.isRequired,\r\n  actionIncrementRightAnswers: PropTypes.func.isRequired,\r\n  actionIncrementAmountOfAnswers: PropTypes.func.isRequired,\r\n  actionClearWrittenMelody: PropTypes.func.isRequired,\r\n  actionHideAnswer: PropTypes.func.isRequired,\r\n  actionSetMode: PropTypes.func.isRequired,\r\n  actionUpdatePianoKeys: PropTypes.func.isRequired,\r\n  dictation: PropTypes.shape({\r\n    amountOfNotes: PropTypes.number.isRequired,\r\n    sequenceOfMelody: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    sequenceOfWrittenMelody: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    defaultModeWrite: PropTypes.bool.isRequired,\r\n    answers: PropTypes.array.isRequired,\r\n    answerGiven: PropTypes.bool.isRequired,\r\n    modeWrite: PropTypes.bool,\r\n    readyToCheck: PropTypes.bool\r\n  }).isRequired,\r\n  duration: PropTypes.number.isRequired,\r\n  actionSetModalWindowFlag: PropTypes.func.isRequired,\r\n  modalWindowFlag: PropTypes.bool,\r\n  actionKeyboardSetPlayFlag: PropTypes.func.isRequired,\r\n  playFlag: PropTypes.bool.isRequired,\r\n  actionKeyboardSetPlayWrittenMelodyFlag: PropTypes.func.isRequired,\r\n  playWrittenMelodyFlag: PropTypes.bool.isRequired,\r\n  actionKeyboardSetChangeModeFlag: PropTypes.func.isRequired,\r\n  changeModeFlag: PropTypes.bool.isRequired,\r\n  dictationClearNoteFlag: PropTypes.bool.isRequired,\r\n  actionKeyboardSetDictationClearNoteFlag: PropTypes.func.isRequired,\r\n  actionKeyboardSetDictationCheckFlag: PropTypes.func.isRequired,\r\n  dictationCheckFlag: PropTypes.bool.isRequired\r\n};\r\n","import Dictation from \"../components/dictation/Dictation\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  actionUpdatePianoKeys\r\n} from \"../store/actions/pianoActions\";\r\n\r\nimport {\r\n  actionGetNewMelody,\r\n  actionChangeMode,\r\n  actionAddNoteToAnswerArray,\r\n  actionPopLastElemFromAnswerArray,\r\n  actionWriteAnswers,\r\n  actionClearWrittenMelody\r\n} from \"../store/actions/dictationActions\";\r\n\r\nimport {\r\n  actionStatisticsClearing,\r\n  actionIncrementRightAnswers,\r\n  actionIncrementAmountOfAnswers,\r\n  actionHideAnswer\r\n} from \"../store/actions/statisticsActions\";\r\n\r\nimport {\r\n  actionNeedToWriteNote,\r\n  actionInitDictation,\r\n  actionWritePlayNote,\r\n  actionSetMode,\r\n  actionSetModalWindowFlag,\r\n  actionKeyboardSetPlayFlag,\r\n  actionKeyboardSetPlayWrittenMelodyFlag,\r\n  actionKeyboardSetChangeModeFlag,\r\n  actionKeyboardSetDictationClearNoteFlag,\r\n  actionKeyboardSetDictationCheckFlag\r\n} from \"../store/actions/applicationActions\";\r\n\r\nconst mapStateToProps = ({ piano, dictation, application }) => ({\r\n  sliceArr: piano.sliceArr,\r\n  dictation,\r\n  needToWriteNote: application.needToWriteNote,\r\n  playNote: application.playNote,\r\n  duration: application.duration,\r\n  modalWindowFlag: application.modalWindowFlag,\r\n  playFlag: application.playFlag,\r\n  playWrittenMelodyFlag: application.playWrittenMelodyFlag,\r\n  changeModeFlag: application.changeModeFlag,\r\n  dictationClearNoteFlag: application.dictationClearNoteFlag,\r\n  dictationCheckFlag: application.dictationCheckFlag\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  actionGetNewMelody,\r\n  actionChangeMode,\r\n  actionNeedToWriteNote,\r\n  actionInitDictation,\r\n  actionAddNoteToAnswerArray,\r\n  actionWritePlayNote,\r\n  actionPopLastElemFromAnswerArray,\r\n  actionWriteAnswers,\r\n  actionStatisticsClearing,\r\n  actionIncrementRightAnswers,\r\n  actionIncrementAmountOfAnswers,\r\n  actionClearWrittenMelody,\r\n  actionHideAnswer,\r\n  actionSetMode,\r\n  actionUpdatePianoKeys,\r\n  actionSetModalWindowFlag,\r\n  actionKeyboardSetPlayFlag,\r\n  actionKeyboardSetPlayWrittenMelodyFlag,\r\n  actionKeyboardSetChangeModeFlag,\r\n  actionKeyboardSetDictationClearNoteFlag,\r\n  actionKeyboardSetDictationCheckFlag\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Dictation);\r\n\r\n\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst FreeMode = ({ actionSetMode, actionUpdatePianoKeys }) => {\r\n  actionSetMode({ mode: \"Свободная игра\", stat: false });\r\n  actionUpdatePianoKeys();\r\n  return <div className=\"free-mode\"></div>;\r\n};\r\n\r\nFreeMode.propTypes = {\r\n  actionSetMode: PropTypes.func.isRequired,\r\n  actionUpdatePianoKeys: PropTypes.func.isRequired\r\n};\r\n\r\nexport default FreeMode;\r\n","import FreeMode from \"../components/freeMode/FreeMode\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n\tactionSetMode\r\n} from \"../store/actions/applicationActions\";\r\n\r\nimport {\r\n\tactionUpdatePianoKeys\r\n} from \"../store/actions/pianoActions\";\r\n\r\nconst mapStateToProps = () => ({})\r\n\r\nconst mapDispatchToProps = {\r\n\tactionSetMode,\r\n\tactionUpdatePianoKeys\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FreeMode);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst OptionFromSelect = ({ index, fullName, disabled }) => {\r\n  return (\r\n    <option disabled={disabled} value={index}>\r\n      {fullName}\r\n    </option>\r\n  );\r\n};\r\n\r\nOptionFromSelect.propTypes = {\r\n  index: PropTypes.number.isRequired,\r\n  fullName: PropTypes.string.isRequired,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nOptionFromSelect.defaultProps = {\r\n  disabled: false\r\n};\r\n\r\nexport default OptionFromSelect;\r\n","import React from \"react\";\r\nimport OptionFromSelect from \"./OptionFromSelect\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst SelectBody = ({\r\n  baseArrOfNotes,\r\n  firstBorder,\r\n  secondBorder,\r\n  nameOfSelect,\r\n  minAmountOfNotes\r\n}) => {\r\n  const body = baseArrOfNotes.map(({ fullName, key, index }) => {\r\n    let disabled = false;\r\n\r\n    if (nameOfSelect === \"firstBorder\") {\r\n      if (key > secondBorder.key - minAmountOfNotes) {\r\n        disabled = true;\r\n      }\r\n    } else if (key < firstBorder.key + minAmountOfNotes) {\r\n      disabled = true;\r\n    }\r\n\r\n    return (\r\n      <OptionFromSelect\r\n        disabled={disabled}\r\n        fullName={fullName}\r\n        index={index}\r\n        key={key}\r\n      />\r\n    );\r\n  });\r\n  return body;\r\n};\r\n\r\nSelectBody.propType = {\r\n  minAmountOfNotes: PropTypes.number.isRequired,\r\n  firstBorder: PropTypes.shape({\r\n    index: PropTypes.number.isRequired,\r\n    key: PropTypes.number.isRequired\r\n  }),\r\n  secondBorder: PropTypes.shape({\r\n    index: PropTypes.number.isRequired,\r\n    key: PropTypes.number.isRequired\r\n  }),\r\n  nameOfSelect: PropTypes.string.isRequired,\r\n  baseArrOfNotes: PropTypes.arrayOf(PropTypes.object.isRequired)\r\n};\r\n\r\n\r\nexport default SelectBody;","let baseArrOfNotes = [];\r\n\r\nconst BASE_NAMES = [\r\n  \"A\",\r\n  \"A#\",\r\n  \"B\",\r\n  \"C\",\r\n  \"C#\",\r\n  \"D\",\r\n  \"D#\",\r\n  \"E\",\r\n  \"F\",\r\n  \"F#\",\r\n  \"G\",\r\n  \"G#\"\r\n];\r\n\r\nconst NAMES_OF_OCTAVES = {\r\n  0: \"Субконтроктава\",\r\n  1: \"Контроктава\",\r\n  2: \"Большая октава\",\r\n  3: \"Малая октава\",\r\n  4: \"Первая октава\",\r\n  5: \"Вторая октава\",\r\n  6: \"Третья октава\",\r\n  7: \"Четвертая октава\",\r\n  8: \"Пятая октава\"\r\n};\r\n\r\nconst BASE_START_NOTE = 21;\r\nconst BASE_FINISH_NOTE = 108;\r\n\r\nlet octaveNumber = 0;\r\n\r\nfor (let i = 0; i <= BASE_FINISH_NOTE - BASE_START_NOTE; i++) {\r\n  const name = BASE_NAMES[i % BASE_NAMES.length];\r\n\r\n  if (name === \"C\") {\r\n    octaveNumber++;\r\n  }\r\n  baseArrOfNotes.push({\r\n    index: i,\r\n    key: i + BASE_START_NOTE,\r\n    name,\r\n    fullName: name + octaveNumber,\r\n    octaveName: NAMES_OF_OCTAVES[octaveNumber]\r\n  });\r\n}\r\n\r\nfunction getBaseArrayOfNotes(\r\n  start = 0,\r\n  finish = BASE_FINISH_NOTE - BASE_START_NOTE\r\n) {\r\n  return [...baseArrOfNotes].slice(start, finish + 1);\r\n}\r\n\r\nfunction getFullArrayAndMapIndexes(arr) {\r\n  const mapIndex = {};\r\n\r\n  const arrOfNotes = [];\r\n\r\n  for (let k = 0; k < arr.length; k++) {\r\n    const obj = arr[k];\r\n    const nextObj = arr[k + 1];\r\n    let i = arrOfNotes.length;\r\n    let section = [];\r\n\r\n    section.push(addNewFields(obj));\r\n\r\n    mapIndex[arr[k].key] = {\r\n      i,\r\n      j: 0\r\n    };\r\n\r\n    if (nextObj && nextObj.name.includes(\"#\")) {\r\n      section.push(addNewFields(nextObj));\r\n      k++;\r\n      mapIndex[arr[k].key] = {\r\n        i,\r\n        j: 1\r\n      };\r\n    }\r\n\r\n    arrOfNotes.push(section);\r\n  }\r\n\r\n  return { mapIndex, arrOfNotes };\r\n}\r\n\r\nfunction addNewFields(obj) {\r\n  return { ...obj, active: false, wrong: false, right: false };\r\n}\r\n\r\nconst getIndexes = ({ key, mapIndex }) => {\r\n  const indexesOfNote = mapIndex[key];\r\n  const i = indexesOfNote.i;\r\n  const j = indexesOfNote.j;\r\n  return { i, j };\r\n};\r\n\r\nwindow.getIndexes = getIndexes;\r\n\r\nconst setVisualEffect = ({ arrOfNotes, sequence, type, active, mapIndex }) => {\r\n  let arr = [...arrOfNotes];\r\n\r\n  sequence.forEach(element => {\r\n    const { i, j } = getIndexes({ key: element, mapIndex });\r\n    if (active) {\r\n      arr[i][j][type] = true;\r\n    } else {\r\n      if (!type) {\r\n        arr[i][j].right = false;\r\n        arr[i][j].wrong = false;\r\n      } else {\r\n        arr[i][j][type] = false;\r\n      }\r\n    }\r\n  });\r\n\r\n  return arr;\r\n};\r\n\r\nexport {\r\n  getBaseArrayOfNotes,\r\n  getFullArrayAndMapIndexes,\r\n  getIndexes,\r\n  setVisualEffect\r\n};\r\n","import React from \"react\";\r\nimport SelectBody from \"./SelectBody\";\r\n\r\nimport Select from \"../select/Select\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst SelectOfRange = ({\r\n  nameOfSelect,\r\n  baseArrOfNotes,\r\n  minAmountOfNotes,\r\n  actionSetBordersOfRange,\r\n  firstBorder,\r\n  secondBorder\r\n}) => {\r\n  const selectChangeHandler = (e, field) => {\r\n    let index = +e.target.value;\r\n    const key = baseArrOfNotes[index].key;\r\n\r\n    if (field === \"firstBorder\") {\r\n      firstBorder = { index, key };\r\n    } else {\r\n      secondBorder = { index, key };\r\n    }\r\n\r\n    actionSetBordersOfRange([firstBorder, secondBorder]);\r\n  };\r\n\r\n  const valueOfSelect =\r\n    nameOfSelect === \"firstBorder\" ? firstBorder.index : secondBorder.index;\r\n\r\n  return (\r\n    <Select\r\n      value={valueOfSelect}\r\n      onChange={e => {\r\n        selectChangeHandler(e, nameOfSelect);\r\n      }}\r\n    >\r\n      <SelectBody\r\n        minAmountOfNotes={minAmountOfNotes}\r\n        firstBorder={firstBorder}\r\n        secondBorder={secondBorder}\r\n        nameOfSelect={nameOfSelect}\r\n        baseArrOfNotes={baseArrOfNotes}\r\n      />\r\n    </Select>\r\n  );\r\n};\r\n\r\nSelectOfRange.propTypes = {\r\n  firstBorder: PropTypes.shape({\r\n    index: PropTypes.number.isRequired,\r\n    key: PropTypes.number.isRequired\r\n  }),\r\n  secondBorder: PropTypes.shape({\r\n    index: PropTypes.number.isRequired,\r\n    key: PropTypes.number.isRequired\r\n  }),\r\n  nameOfSelect: PropTypes.string.isRequired,\r\n  minAmountOfNotes: PropTypes.number.isRequired,\r\n  baseArrOfNotes: PropTypes.arrayOf(PropTypes.object.isRequired),\r\n  actionSetBordersOfRange: PropTypes.func.isRequired\r\n};\r\n\r\nexport default SelectOfRange;\r\n","import React from \"react\";\r\nimport SelectOfRange from \"./SelectOfRange\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Button from \"../button/Button\";\r\n\r\nconst ChangeRangeOfNotes = ({\r\n  actionUpdatePianoKeys,\r\n  actionSetBordersOfRange,\r\n  piano: { firstBorder, secondBorder, baseArrOfNotes, minAmountOfNotes }\r\n}) => {\r\n  const clickHandler = () => {\r\n    actionUpdatePianoKeys();\r\n  };\r\n\r\n  return (\r\n    <div className=\"changeRangeOfNotes\">\r\n      <h3>Изменить диапазон:</h3>\r\n      <SelectOfRange\r\n        firstBorder={firstBorder}\r\n        secondBorder={secondBorder}\r\n        nameOfSelect=\"firstBorder\"\r\n        actionSetBordersOfRange={actionSetBordersOfRange}\r\n        baseArrOfNotes={baseArrOfNotes}\r\n        minAmountOfNotes={minAmountOfNotes}\r\n      />\r\n      <SelectOfRange\r\n        firstBorder={firstBorder}\r\n        secondBorder={secondBorder}\r\n        nameOfSelect=\"secondBorder\"\r\n        actionSetBordersOfRange={actionSetBordersOfRange}\r\n        baseArrOfNotes={baseArrOfNotes}\r\n        minAmountOfNotes={minAmountOfNotes}\r\n      />\r\n\r\n      <Button onClick={clickHandler}>Выбрать диапазон</Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nChangeRangeOfNotes.propTypes = {\r\n  actionUpdatePianoKeys: PropTypes.func.isRequired,\r\n  actionSetBordersOfRange: PropTypes.func.isRequired,\r\n  piano: PropTypes.object\r\n};\r\n\r\nexport default ChangeRangeOfNotes;\r\n","import ChangeRangeOfNotes from \"../components/changeRangeOfNotes/ChangeRangeOfNotes\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  actionSetBordersOfRange,\r\n  actionUpdatePianoKeys\r\n} from \"../store/actions/pianoActions\";\r\n\r\nconst mapStateToProps = ({ piano }) => ({\r\n  piano\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  actionSetBordersOfRange,\r\n  actionUpdatePianoKeys\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ChangeRangeOfNotes);\r\n","import ClearSettings from \"../components/clearSettings/ClearSettings\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { actionApplicationSetInitialState, actionSetModalWindowFlag, actionSetDataClearingFlag } from \"../store/actions/applicationActions\";\r\n\r\nconst setInitialState = actionApplicationSetInitialState;\r\n\r\nconst mapStateToProps = ({ application }) => ({\r\n  modalWindowFlag: application.modalWindowFlag,\r\n  dataIsClearing: application.dataIsClearing\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  setInitialState,\r\n  actionSetModalWindowFlag,\r\n  actionSetDataClearingFlag\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ClearSettings);\r\n","import React from \"react\";\r\nimport Button from \"../../button/Button\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PlayExampleButton = ({ play, duration }) => {\r\n\tconst clickHandler = () => {\r\n\t\tconst notesKeyArray = [60, 64, 67, 72];\r\n\r\n\t\tfor (let i = 0; i < notesKeyArray.length; i++) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tplay(notesKeyArray[i]);\r\n\t\t\t}, duration * 1000 * i);\r\n\t\t}\r\n\t};\r\n\treturn <Button onClick={clickHandler}>\r\n\t\tВоспроизвести пример\r\n\t</Button>;\r\n};\r\n\r\nPlayExampleButton.propTypes = {\r\n\tplay: PropTypes.func.isRequired,\r\n\tduration: PropTypes.number.isRequired\r\n};\r\n\r\nexport default PlayExampleButton;","import React from \"react\";\r\n\r\nimport \"./inputRange.css\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst InputRange = ({ level, onChangeHandler, min, max, step }) => {\r\n\r\n\tconst percent = (level - min) / (max - min);\r\n\r\n\tlet levelValueStyle;\r\n\r\n\tif (percent < 0.35) {\r\n\t\tlevelValueStyle = { left: `calc(-8px  + 100% * ${percent} - 10px * ${percent} )` };\r\n\t} else if (percent > 0.85) {\r\n\t\tlevelValueStyle = { left: `calc(-12px * ${percent ? percent : 1} + 100% * ${percent} - 11px * ${percent} )` };\r\n\t} else if (percent > 0.65) {\r\n\t\tlevelValueStyle = { left: `calc(-14px * ${percent ? percent : 1} + 100% * ${percent} - 11px * ${percent} )` };\r\n\t} else {\r\n\t\tlevelValueStyle = { left: `calc(-18px * ${percent ? percent : 1} + 100% * ${percent} - 11px * ${percent} )` };\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"input-range-wrap\" >\r\n\t\t\t<div className=\"input-range-value\" style={levelValueStyle}>{level}</div>\r\n\t\t\t<input type=\"range\" min={min} max={max} step={step} onChange={onChangeHandler} value={level} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nInputRange.propTypes = {\r\n\tlevel: PropTypes.number.isRequired,\r\n\tmin: PropTypes.number.isRequired,\r\n\tmax: PropTypes.number.isRequired,\r\n\tstep: PropTypes.number.isRequired,\r\n\tonChangeHandler: PropTypes.func.isRequired\r\n};\r\n\r\nexport default InputRange;\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport InputRange from \"../inputRange/InputRange\";\r\n\r\nconst EchoSettings = ({ children, echoLevel, actionSetEchoLevel }) => {\r\n\r\n\tconst onChangeHandler = (e) => {\r\n\t\tactionSetEchoLevel(+e.target.value);\r\n\t};\r\n\r\n\treturn <div className=\"input-settings\">\r\n\t\t<h3>Уровень эхо:</h3>\r\n\t\t<div className=\"input-settings-wrap\">\r\n\t\t\t<InputRange min={0} max={1} step={0.1} level={echoLevel} onChangeHandler={onChangeHandler} />\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t</div >;\r\n};\r\n\r\nEchoSettings.propTypes = {\r\n\tchildren: PropTypes.node.isRequired,\r\n\techoLevel: PropTypes.number.isRequired,\r\n\tactionSetEchoLevel: PropTypes.func.isRequired\r\n};\r\n\r\nexport default EchoSettings;\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport InputRange from \"../inputRange/InputRange\";\r\n\r\nconst TempoSettings = ({ children, bpm, actionSetBpmLevel }) => {\r\n\r\n\tconst onChangeHandler = (e) => {\r\n\t\tactionSetBpmLevel(+e.target.value);\r\n\t};\r\n\r\n\treturn <div className=\"input-settings\">\r\n\t\t<h3>Настрока темпа (bpm):</h3>\r\n\t\t<div className=\"input-settings-wrap\">\r\n\t\t\t<InputRange min={50} max={180} step={1} level={bpm} onChangeHandler={onChangeHandler} />\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t</div >;\r\n};\r\n\r\nTempoSettings.propTypes = {\r\n\tchildren: PropTypes.node.isRequired,\r\n\tbpm: PropTypes.number.isRequired,\r\n\tactionSetBpmLevel: PropTypes.func.isRequired\r\n};\r\n\r\nexport default TempoSettings;\r\n","export const instruments = [\r\n\t{\r\n\t\tid: 1,\r\n\t\tname: \"Acoustic Grand Piano\"\r\n\t},\r\n\t{\r\n\t\tid: 45,\r\n\t\tname: \"Electric Piano\"\r\n\t},\r\n\t{\r\n\t\tid: 117,\r\n\t\tname: \"Vibraphone\"\r\n\t},\r\n\t{\r\n\t\tid: 125,\r\n\t\tname: \"Marimba\"\r\n\t},\r\n\t{\r\n\t\tid: 141,\r\n\t\tname: \"Tubular Bells\"\r\n\t},\r\n\t{\r\n\t\tid: 183,\r\n\t\tname: \"Rock Organ\"\r\n\t},\r\n\t{\r\n\t\tid: 190,\r\n\t\tname: \"Church Organ\"\r\n\t},\r\n\t{\r\n\t\tid: 223,\r\n\t\tname: \"Harmonica\"\r\n\t},\r\n\t{\r\n\t\tid: 246,\r\n\t\tname: \"Acoustic Guitar (nylon)\"\r\n\t},\r\n\t{\r\n\t\tid: 258,\r\n\t\tname: \"Acoustic Guitar (steel)\"\r\n\t},\r\n\t{\r\n\t\tid: 291,\r\n\t\tname: \"Electric Guitar (clean)\"\r\n\t},\r\n\t{\r\n\t\tid: 322,\r\n\t\tname: \"Overdriven Guitar\"\r\n\t},\r\n\t{\r\n\t\tid: 333,\r\n\t\tname: \"Distortion Guitar\"\r\n\t},\r\n\t{\r\n\t\tid: 447,\r\n\t\tname: \"Violin\"\r\n\t},\r\n\t{\r\n\t\tid: 582,\r\n\t\tname: \"Choir Aahs\"\r\n\t}\r\n];","import React from \"react\";\r\n\r\nimport { instruments } from \"./instruments\";\r\nimport OptionFromSelect from \"../changeRangeOfNotes/OptionFromSelect\";\r\nimport Select from \"../select/Select\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ChangeInstrument = ({ children, actionSetInstrumentId, instrumentId }) => {\r\n\r\n\tconst selectBody = instruments.map((elem, index) => {\r\n\t\treturn <OptionFromSelect index={elem.id} fullName={`${index + 1}) ${elem.name}`} disabled={false} key={elem.id} />;\r\n\t});\r\n\r\n\tconst selectHandler = (e) => {\r\n\t\tactionSetInstrumentId(+e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"input-settings\">\r\n\t\t\t<h3>Выбрать инструмент:</h3>\r\n\t\t\t<div className=\"input-settings-wrap\">\r\n\t\t\t\t<Select onChange={selectHandler} value={instrumentId}>\r\n\t\t\t\t\t{selectBody}\r\n\t\t\t\t</Select>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nChangeInstrument.propTypes = {\r\n\tchildren: PropTypes.node.isRequired,\r\n\tactionSetInstrumentId: PropTypes.func.isRequired,\r\n\tinstrumentId: PropTypes.number.isRequired\r\n\r\n};\r\n\r\nexport default ChangeInstrument;","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"../button/Button\";\r\n\r\n\r\nconst HotKeyComponent = ({ hotKeys, actionKeyboardSetNewHotKeyFlag, title, hotKeyType, index }) => {\r\n\r\n\tconst typeInState = hotKeys.newHotKey.newHotKeyType;\r\n\tconst hotKeyInState = hotKeyType === \"listOfIntervalsHotKeys\" ? hotKeys[hotKeyType][index] : hotKeys[hotKeyType];\r\n\r\n\tconst needToChange = hotKeys.newHotKey.change && typeInState === hotKeyType && index === hotKeys.newHotKey.index;\r\n\r\n\tconst keyText = hotKeyInState === \" \" ? \"Space\" : hotKeyInState === null ? \"Не задано\" : hotKeyInState;\r\n\r\n\tconst buttonText = needToChange ? \"Выберите желаемую клавишу\" : `Клавиша: \"${keyText}\"`;\r\n\r\n\tconst cls = needToChange ? \"info\" : \"info-outline\";\r\n\r\n\tconst onClick = () => {\r\n\t\tactionKeyboardSetNewHotKeyFlag(\r\n\t\t\t{\r\n\t\t\t\tchange: true,\r\n\t\t\t\tnewHotKeyType: hotKeyType,\r\n\t\t\t\tindex,\r\n\t\t\t\tkey: null\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<h4>{title}</h4>\r\n\t\t\t<p>\r\n\t\t\t\t<Button onClick={onClick} type=\"text\" cls={cls}>\r\n\t\t\t\t\t{buttonText}\r\n\t\t\t\t</Button>\r\n\t\t\t\t{needToChange ? <span>Предыдущее значение:&nbsp;&quot;{keyText}&quot;</span> : null}\r\n\t\t\t</p>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nHotKeyComponent.propTypes = {\r\n\thotKeys: PropTypes.object.isRequired,\r\n\tactionKeyboardSetNewHotKeyFlag: PropTypes.func.isRequired,\r\n\ttitle: PropTypes.string.isRequired,\r\n\thotKeyType: PropTypes.string.isRequired,\r\n\tindex: PropTypes.number\r\n};\r\n\r\n\r\nexport default HotKeyComponent;","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport HotKeyComponent from \"./HotKeyComponent\";\r\nimport \"./keyboardSettings.css\";\r\n\r\nconst KeyboardSettings = ({ hotKeys, actionKeyboardSetNewHotKeyFlag }) => {\r\n\r\n\tconst intervalHotKeyComponents = hotKeys.listOfIntervalsHotKeys.map((hotKey, index) => {\r\n\t\treturn <HotKeyComponent key={`${hotKey}-${Date.now()}-${index}`} title={`Горячая клавиша ${index + 1}-ого интервала списка:`} hotKeys={hotKeys} actionKeyboardSetNewHotKeyFlag={actionKeyboardSetNewHotKeyFlag} hotKeyType=\"listOfIntervalsHotKeys\" index={index} />;\r\n\t});\r\n\r\n\t// const intervalHotKeyComponents = hotKeys.listOfIntervalsHotKeys.map((hotKey, index) => {\r\n\r\n\t// \tconsole.log(hotKey)\r\n\t// \treturn \"12\";\r\n\t// });\r\n\r\n\treturn <div className=\"keyboard-settings\">\r\n\t\t<h3>Настройка горячих клавиш:</h3>\r\n\t\t<HotKeyComponent title=\"Открыть/закрыть меню или всплывающее окно:\" hotKeys={hotKeys} actionKeyboardSetNewHotKeyFlag={actionKeyboardSetNewHotKeyFlag} hotKeyType=\"closeHotKey\" index={null} />\r\n\t\t<HotKeyComponent title=\"Воспроизвести задание:\" hotKeys={hotKeys} actionKeyboardSetNewHotKeyFlag={actionKeyboardSetNewHotKeyFlag} hotKeyType=\"playHotKey\" index={null} />\r\n\t\t<HotKeyComponent title=\"Изменить режим в задании:\" hotKeys={hotKeys} actionKeyboardSetNewHotKeyFlag={actionKeyboardSetNewHotKeyFlag} hotKeyType=\"changeModeHoteKey\" index={null} />\r\n\t\t<HotKeyComponent title=\"Воспроизвести написанную мелодию (диктант):\" hotKeys={hotKeys} actionKeyboardSetNewHotKeyFlag={actionKeyboardSetNewHotKeyFlag} hotKeyType=\"playWrittenMelodyHoteKey\" index={null} />\r\n\t\t<HotKeyComponent title=\"Удалить записанную ноту (диктант):\" hotKeys={hotKeys} actionKeyboardSetNewHotKeyFlag={actionKeyboardSetNewHotKeyFlag} hotKeyType=\"dictationClearNoteHoteKey\" index={null} />\r\n\t\t<HotKeyComponent title=\"Проверить ответ (диктант):\" hotKeys={hotKeys} actionKeyboardSetNewHotKeyFlag={actionKeyboardSetNewHotKeyFlag} hotKeyType=\"dictationCheckHoteKey\" index={null} />\r\n\t\t{intervalHotKeyComponents}\r\n\t</div>;\r\n};\r\n\r\nKeyboardSettings.propTypes = {\r\n\thotKeys: PropTypes.object.isRequired,\r\n\tactionKeyboardSetNewHotKeyFlag: PropTypes.func.isRequired\r\n};\r\n\r\n\r\nexport default KeyboardSettings;","import React, { Component } from \"react\";\r\n\r\nimport ChangeRangeOfNotes from \"../../containers/changeRangeOfNotesContainer\";\r\nimport \"./settings.css\";\r\nimport ClearSettings from \"../../containers/clearSettingsContainer\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport PlayExampleButton from \"./playExampleButton/PlayExampleButton\";\r\nimport EchoSettings from \"../echoSettings/EchoSettings\";\r\nimport TempoSettings from \"../tempoSettings/TempoSettings\";\r\nimport ChangeInstrument from \"../changeInstrument/ChangeInstrument\";\r\nimport KeyboardSettings from \"../keyboardSettings/KeyboardSettings\";\r\nimport ErrorBoundary from \"../ErrorBoundary/ErrorBoundary\";\r\n\r\nexport default class Settings extends Component {\r\n\tcomponentDidMount() {\r\n\r\n\t\tconst { actionUpdatePianoKeys, actionSetMode } = this.props;\r\n\t\tactionUpdatePianoKeys();\r\n\t\tactionSetMode({ mode: \"Настройки\", stat: false });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { actionSetEchoLevel, echoLevel, bpm, actionSetBpmLevel, actionSetInstrumentId, instrumentId, hotKeys, actionKeyboardSetNewHotKeyFlag } = this.props;\r\n\r\n\t\tconst playExampleComponent = (\r\n\t\t\t<PlayExampleButton play={this.props.play} duration={this.props.duration} />\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<ErrorBoundary>\r\n\t\t\t\t<div className=\"settings\">\r\n\t\t\t\t\t<ChangeRangeOfNotes />\r\n\t\t\t\t\t<EchoSettings actionSetEchoLevel={actionSetEchoLevel}\r\n\t\t\t\t\t\techoLevel={echoLevel}>\r\n\t\t\t\t\t\t{playExampleComponent}\r\n\t\t\t\t\t</EchoSettings>\r\n\t\t\t\t\t<TempoSettings actionSetBpmLevel={actionSetBpmLevel}\r\n\t\t\t\t\t\tbpm={bpm}>\r\n\t\t\t\t\t\t{playExampleComponent}\r\n\t\t\t\t\t</TempoSettings>\r\n\t\t\t\t\t<ChangeInstrument actionSetInstrumentId={actionSetInstrumentId} instrumentId={instrumentId}>\r\n\t\t\t\t\t\t{playExampleComponent}\r\n\t\t\t\t\t</ChangeInstrument>\r\n\t\t\t\t\t<KeyboardSettings hotKeys={hotKeys} actionKeyboardSetNewHotKeyFlag={actionKeyboardSetNewHotKeyFlag} />\r\n\t\t\t\t\t<ClearSettings />\r\n\t\t\t\t</div>\r\n\t\t\t</ErrorBoundary>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nSettings.propTypes = {\r\n\tactionUpdatePianoKeys: PropTypes.func.isRequired,\r\n\tactionSetMode: PropTypes.func.isRequired,\r\n\tplay: PropTypes.func.isRequired,\r\n\tactionSetEchoLevel: PropTypes.func.isRequired,\r\n\tactionSetBpmLevel: PropTypes.func.isRequired,\r\n\tactionSetInstrumentId: PropTypes.func.isRequired,\r\n\tduration: PropTypes.number.isRequired,\r\n\techoLevel: PropTypes.number.isRequired,\r\n\tbpm: PropTypes.number.isRequired,\r\n\tinstrumentId: PropTypes.number.isRequired,\r\n\thotKeys: PropTypes.object.isRequired,\r\n\tactionKeyboardSetNewHotKeyFlag: PropTypes.func.isRequired\r\n};\r\n","import Settings from \"../components/settings/Settings\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n\tactionSetMode,\r\n\tactionSetEchoLevel,\r\n\tactionSetBpmLevel,\r\n\tactionSetInstrumentId,\r\n\tactionKeyboardSetNewHotKeyFlag\r\n} from \"../store/actions/applicationActions\";\r\n\r\nimport {\r\n\tactionUpdatePianoKeys\r\n} from \"../store/actions/pianoActions\";\r\n\r\nconst mapStateToProps = ({ application }) => ({\r\n\tduration: application.duration,\r\n\techoLevel: application.echoLevel,\r\n\tbpm: application.bpm,\r\n\thotKeys: application.hotKeys,\r\n\tinstrumentId: application.instrumentId\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\tactionSetMode,\r\n\tactionUpdatePianoKeys,\r\n\tactionSetEchoLevel,\r\n\tactionSetBpmLevel,\r\n\tactionSetInstrumentId,\r\n\tactionKeyboardSetNewHotKeyFlag\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\n\r\nimport MIDISounds from \"midi-sounds-react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\n\r\nimport Menu from \"./containers/menuContainer\";\r\nimport Header from \"./containers/headerContainer\";\r\nimport Piano from \"./containers/pianoContainer\";\r\n\r\nimport Intervals from \"./components/intervals/Intervals\";\r\nimport ActivateMidiContainer from \"./containers/activateMidiContainer\";\r\nimport FindNote from \"./containers/findNoteContainer\";\r\nimport Dictation from \"./containers/dictationContainter\";\r\nimport FreeMode from \"./containers/freeModeContainer\";\r\nimport Settings from \"./containers/settingsContainer\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport ErrorBoundary from \"./components/ErrorBoundary/ErrorBoundary\";\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.midiSounds.setEchoLevel(this.props.echoLevel);\r\n\r\n    document.getElementById(\"root\").addEventListener(\"click\", () => {\r\n      if (this.props.menuIsOpen) {\r\n        this.props.actionMenuAction(false);\r\n      }\r\n    });\r\n\r\n    document.body.onkeydown = this.keyboardEventListener;\r\n\r\n    if (this.props.menuIsOpen) {\r\n      this.props.actionMenuAction();\r\n    }\r\n\r\n    if (this.props.hotKeys.newHotKey.change) {\r\n      this.props.actionKeyboardSetNewHotKeyFlag({\r\n        change: false,\r\n        newHotKeyType: \"\",\r\n        index: null,\r\n        key: null\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  keyboardEventListener = (e) => {\r\n    const { hotKeys } = this.props;\r\n\r\n    if (!hotKeys.newHotKey.change) {\r\n      const indexKeyboardInterval = hotKeys.listOfIntervalsHotKeys.indexOf(e.key);\r\n\r\n      if (e.key === hotKeys.closeHotKey) {\r\n        if (this.props.modalWindowFlag) {\r\n          this.props.actionSetModalWindowFlag(false);\r\n        } else {\r\n          this.props.actionMenuAction();\r\n        }\r\n        e.preventDefault();\r\n      }\r\n      if (e.key === hotKeys.playHotKey && !this.props.playFlag) {\r\n        this.props.actionKeyboardSetPlayFlag(true);\r\n        e.preventDefault();\r\n      }\r\n\r\n      if (e.key === hotKeys.playWrittenMelodyHoteKey && !this.props.playWrittenMelodyFlag) {\r\n        this.props.actionKeyboardSetPlayWrittenMelodyFlag(true);\r\n        e.preventDefault();\r\n      }\r\n\r\n      if (e.key === hotKeys.changeModeHoteKey && !this.props.changeModeFlag) {\r\n        this.props.actionKeyboardSetChangeModeFlag(true);\r\n        e.preventDefault();\r\n      }\r\n\r\n      if (e.key === hotKeys.dictationClearNoteHoteKey && !this.props.dictationClearNoteFlag) {\r\n        this.props.actionKeyboardSetDictationClearNoteFlag(true);\r\n        e.preventDefault();\r\n      }\r\n\r\n      if (e.key === hotKeys.dictationCheckHoteKey && !this.props.dictationCheckFlag) {\r\n        this.props.actionKeyboardSetDictationCheckFlag(true);\r\n        e.preventDefault();\r\n      }\r\n\r\n      if (indexKeyboardInterval !== -1 && !this.props.intervalsKeyboardFlag.intervalButtonFlag) {\r\n\r\n        this.props.actionKeyboardSetIntervalButtonFlag(true, indexKeyboardInterval);\r\n        e.preventDefault();\r\n      }\r\n    } else {\r\n      this.props.actionKeyboardSetNewHotKeyFlag(\r\n        {\r\n          change: false,\r\n          newHotKeyType: this.props.hotKeys.newHotKey.newHotKeyType,\r\n          index: this.props.hotKeys.newHotKey.index,\r\n          key: e.key\r\n        },\r\n      );\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.echoLevel !== this.props.echoLevel) {\r\n      this.midiSounds.setEchoLevel(this.props.echoLevel);\r\n    }\r\n\r\n    if (prevProps.instrumentId !== this.props.instrumentId) {\r\n      this.midiSounds.playChordNow(this.props.instrumentId, [60], 0);\r\n    }\r\n  }\r\n\r\n  play = (key, onlyPlay) => {\r\n    throw new Error();\r\n    const { duration, instrumentId } = this.props;\r\n    this.midiSounds.playChordNow((instrumentId ? instrumentId : 1), [key], duration);\r\n\r\n\r\n    if (!onlyPlay) {\r\n      if (this.props.needToWriteNote) {\r\n        const note = this.props.sliceArr.find(elem => elem.key === key);\r\n\r\n        if (this.props.modeDictation) {\r\n          this.props.actionWritePlayNote(note, true);\r\n        } else {\r\n          this.props.actionWritePlayNote(note, false);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { instrumentId } = this.props;\r\n    return (\r\n      <ErrorBoundary>\r\n        <div className=\"app\">\r\n          <Menu />\r\n          <Header />\r\n          <Piano play={this.play} />\r\n\r\n          <Switch>\r\n            <Route\r\n              path=\"/\"\r\n              exact\r\n              render={() => <FreeMode />}\r\n            />\r\n            <Route\r\n              path=\"/intervals\"\r\n              render={() => <Intervals play={this.play} />}\r\n            />\r\n            <Route\r\n              path=\"/find-note\"\r\n              render={() => <FindNote play={this.play} />}\r\n            />\r\n            <Route\r\n              path=\"/dictation\"\r\n              render={() => <Dictation play={this.play} />}\r\n            />\r\n            <Route path=\"/options\" render={() => <Settings play={this.play} />} />\r\n          </Switch>\r\n\r\n          <ActivateMidiContainer play={this.play} />\r\n          <div className=\"midiComponent\" style={{ display: \"none\" }}>\r\n            <MIDISounds\r\n              ref={ref => (this.midiSounds = ref)}\r\n              appElementName=\"root\"\r\n              instruments={[instrumentId ? instrumentId : 1]}\r\n            />\r\n          </div>\r\n        </div>\r\n      </ErrorBoundary>\r\n    );\r\n  }\r\n}\r\n\r\n{/* <ErrorBoundary>\r\n        <div className=\"app\">\r\n          <Menu />\r\n          <Header />\r\n          <Piano play={this.play} />\r\n\r\n          <Switch>\r\n            <Route\r\n              path=\"/\"\r\n              exact\r\n              render={() => <FreeMode />}\r\n            />\r\n            <Route\r\n              path=\"/intervals\"\r\n              render={() => <Intervals play={this.play} />}\r\n            />\r\n            <Route\r\n              path=\"/find-note\"\r\n              render={() => <FindNote play={this.play} />}\r\n            />\r\n            <Route\r\n              path=\"/dictation\"\r\n              render={() => <Dictation play={this.play} />}\r\n            />\r\n            <Route path=\"/options\" render={() => <Settings play={this.play} />} />\r\n          </Switch>\r\n\r\n          <ActivateMidiContainer play={this.play} />\r\n          <div className=\"midiComponent\" style={{ display: \"none\" }}>\r\n            <MIDISounds\r\n              ref={ref => (this.midiSounds = ref)}\r\n              appElementName=\"root\"\r\n              instruments={[instrumentId ? instrumentId : 1]}\r\n            />\r\n          </div>\r\n        </div>\r\n      </ErrorBoundary> */}\r\n\r\nApp.propTypes = {\r\n  instrumentId: PropTypes.number.isRequired,\r\n  echoLevel: PropTypes.number.isRequired,\r\n  duration: PropTypes.number.isRequired,\r\n  menuIsOpen: PropTypes.bool.isRequired,\r\n  needToWriteNote: PropTypes.bool.isRequired,\r\n  modeDictation: PropTypes.bool.isRequired,\r\n  sliceArr: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  mapIndex: PropTypes.object.isRequired,\r\n  actionMenuAction: PropTypes.func.isRequired,\r\n  actionWritePlayNote: PropTypes.func.isRequired,\r\n  actionKeyboardSetPlayFlag: PropTypes.func.isRequired,\r\n  modalWindowFlag: PropTypes.bool,\r\n  actionSetModalWindowFlag: PropTypes.func.isRequired,\r\n  playFlag: PropTypes.bool.isRequired,\r\n  playWrittenMelodyFlag: PropTypes.bool.isRequired,\r\n  actionKeyboardSetPlayWrittenMelodyFlag: PropTypes.func.isRequired,\r\n  changeModeFlag: PropTypes.bool.isRequired,\r\n  actionKeyboardSetChangeModeFlag: PropTypes.func.isRequired,\r\n  dictationClearNoteFlag: PropTypes.bool.isRequired,\r\n  actionKeyboardSetDictationClearNoteFlag: PropTypes.func.isRequired,\r\n  actionKeyboardSetDictationCheckFlag: PropTypes.func.isRequired,\r\n  dictationCheckFlag: PropTypes.bool.isRequired,\r\n  intervalsKeyboardFlag: PropTypes.shape({\r\n    intervalButtonFlag: PropTypes.bool.isRequired,\r\n    interval: PropTypes.number.isRequired\r\n  }).isRequired,\r\n  actionKeyboardSetIntervalButtonFlag: PropTypes.func.isRequired,\r\n  hotKeys: PropTypes.object.isRequired,\r\n  actionKeyboardSetNewHotKeyFlag: PropTypes.func.isRequired\r\n};\r\n\r\nexport default App;\r\n","import App from \"../App\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  actionMenuAction,\r\n  actionWritePlayNote,\r\n  actionKeyboardSetPlayFlag,\r\n  actionSetModalWindowFlag,\r\n  actionKeyboardSetPlayWrittenMelodyFlag,\r\n  actionKeyboardSetChangeModeFlag,\r\n  actionKeyboardSetDictationClearNoteFlag,\r\n  actionKeyboardSetDictationCheckFlag,\r\n  actionKeyboardSetIntervalButtonFlag,\r\n  actionKeyboardSetNewHotKeyFlag\r\n\r\n} from \"../store/actions/applicationActions\";\r\n\r\nconst mapStateToProps = ({ application, piano }) => ({\r\n  menuIsOpen: application.menuIsOpen,\r\n  note: application.note,\r\n  needToWriteNote: application.needToWriteNote,\r\n  modeDictation: application.modeDictation,\r\n  echoLevel: application.echoLevel,\r\n  duration: application.duration,\r\n  modalWindowFlag: application.modalWindowFlag,\r\n  playFlag: application.playFlag,\r\n  playWrittenMelodyFlag: application.modalWindowFlag,\r\n  changeModeFlag: application.changeModeFlag,\r\n  instrumentId: application.instrumentId,\r\n  dictationClearNoteFlag: application.dictationClearNoteFlag,\r\n  dictationCheckFlag: application.dictationCheckFlag,\r\n  intervalsKeyboardFlag: application.intervalsKeyboardFlag,\r\n  hotKeys: application.hotKeys,\r\n  sliceArr: piano.sliceArr,\r\n  mapIndex: piano.mapIndex\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  actionMenuAction,\r\n  actionWritePlayNote,\r\n  actionKeyboardSetPlayFlag,\r\n  actionSetModalWindowFlag,\r\n  actionKeyboardSetPlayWrittenMelodyFlag,\r\n  actionKeyboardSetChangeModeFlag,\r\n  actionKeyboardSetDictationClearNoteFlag,\r\n  actionKeyboardSetDictationCheckFlag,\r\n  actionKeyboardSetIntervalButtonFlag,\r\n  actionKeyboardSetNewHotKeyFlag\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","import {\r\n  MENU_ACTION,\r\n  NEED_TO_WRITE_NOTE,\r\n  WRITE_PLAY_NOTE,\r\n  INIT_DICTATION,\r\n  SET_MODE,\r\n  SET_INITIAL_STATE,\r\n  SET_ECHO_LEVEL,\r\n  SET_BPM_LEVEL,\r\n  SET_INSTRUMENTID,\r\n  KEYBOARD_SET_PLAY_FLAG,\r\n  SET_MODAL_WINDOW_FLAG,\r\n  DATA_CLEARING_FLAG,\r\n  KEYBOARD_SET_PLAY_WRITTEN_MELODY_FLAG,\r\n  KEYBOARD_SET_CHANGE_MODE_FLAG,\r\n  KEYBOARD_SET_DICTATION_CLEAR_NOTE_FLAG,\r\n  KEYBOARD_SET_DICTATION_CHECK_FLAG,\r\n  KEYBOARD_SET_INTERVAL_BUTTON_FLAG,\r\n  KEYBOARD_SET_NEW_HOT_KEY_FLAG\r\n} from \"../actionTypes\";\r\n\r\nlet bpm = 80;\r\nlet duration = 60 / bpm;\r\n\r\nconst initialState = {\r\n  menuIsOpen: false,\r\n  playNote: null,\r\n  needToWriteNote: false,\r\n  modeDictation: false,\r\n  mode: \"\",\r\n  stat: true,\r\n  echoLevel: 0.3,\r\n  bpm,\r\n  duration,\r\n  instrumentId: 1,\r\n  dataIsClearing: false,\r\n  playFlag: false,\r\n  playWrittenMelodyFlag: false,\r\n  modalWindowFlag: false,\r\n  changeModeFlag: false,\r\n  dictationClearNoteFlag: false,\r\n  dictationCheckFlag: false,\r\n  intervalsKeyboardFlag: {\r\n    intervalButtonFlag: false,\r\n    interval: 0\r\n  },\r\n  hotKeys: {\r\n    newHotKey: {\r\n      change: false,\r\n      newHotKeyType: \"\",\r\n      index: null,\r\n      key: null\r\n    },\r\n    closeHotKey: \"Escape\",\r\n    playHotKey: \"Enter\",\r\n    playWrittenMelodyHoteKey: \"+\",\r\n    changeModeHoteKey: \" \",\r\n    dictationClearNoteHoteKey: \"Backspace\",\r\n    dictationCheckHoteKey: \"-\",\r\n    listOfIntervalsHotKeys: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", \"/\", \"*\"]\r\n  }\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case MENU_ACTION: {\r\n      let { menuIsOpen } = state;\r\n      let { isOpen } = action.payload;\r\n\r\n      if (typeof isOpen === \"boolean\") {\r\n        menuIsOpen = isOpen;\r\n      } else {\r\n        menuIsOpen = !menuIsOpen;\r\n      }\r\n\r\n      return { ...state, menuIsOpen };\r\n    }\r\n\r\n    case NEED_TO_WRITE_NOTE: {\r\n      return {\r\n        ...state,\r\n        needToWriteNote: action.payload || false,\r\n        playNote: null\r\n      };\r\n    }\r\n\r\n    case WRITE_PLAY_NOTE: {\r\n      return {\r\n        ...state,\r\n        playNote: { ...action.payload },\r\n        needToWriteNote: action.needToWriteNote\r\n      };\r\n    }\r\n\r\n    case INIT_DICTATION: {\r\n      return { ...state, modeDictation: action.payload };\r\n    }\r\n\r\n    case SET_MODE: {\r\n      return { ...state, ...action.payload };\r\n    }\r\n\r\n    case SET_ECHO_LEVEL: {\r\n      return { ...state, echoLevel: action.payload };\r\n    }\r\n\r\n    case SET_BPM_LEVEL: {\r\n      const bpm = action.payload;\r\n      const duration = 60 / bpm;\r\n      return { ...state, bpm, duration };\r\n    }\r\n\r\n    case SET_INSTRUMENTID: {\r\n      return { ...state, instrumentId: action.payload };\r\n    }\r\n\r\n    case SET_MODAL_WINDOW_FLAG: {\r\n      return { ...state, modalWindowFlag: action.payload };\r\n    }\r\n\r\n    case DATA_CLEARING_FLAG: {\r\n      return { ...state, dataIsClearing: action.payload };\r\n    }\r\n\r\n    case KEYBOARD_SET_PLAY_FLAG: {\r\n      return { ...state, playFlag: action.payload };\r\n    }\r\n\r\n    case KEYBOARD_SET_PLAY_WRITTEN_MELODY_FLAG: {\r\n      return { ...state, playWrittenMelodyFlag: action.payload };\r\n    }\r\n\r\n    case KEYBOARD_SET_CHANGE_MODE_FLAG: {\r\n      return { ...state, changeModeFlag: action.payload };\r\n    }\r\n\r\n    case KEYBOARD_SET_DICTATION_CLEAR_NOTE_FLAG: {\r\n      return { ...state, dictationClearNoteFlag: action.payload };\r\n    }\r\n\r\n    case KEYBOARD_SET_DICTATION_CHECK_FLAG: {\r\n      return { ...state, dictationCheckFlag: action.payload };\r\n    }\r\n\r\n    case KEYBOARD_SET_INTERVAL_BUTTON_FLAG: {\r\n      return { ...state, intervalsKeyboardFlag: action.payload };\r\n    }\r\n\r\n    case KEYBOARD_SET_NEW_HOT_KEY_FLAG: {\r\n\r\n      let newHotKey = action.payload;\r\n      let hotKeys = { ...state.hotKeys };\r\n      const listOfIntervalsHotKeys = [...hotKeys.listOfIntervalsHotKeys];\r\n\r\n      if (!newHotKey.key && !newHotKey.change) {\r\n        return { ...state, hotKeys: { ...state.hotKeys, newHotKey } };\r\n      }\r\n\r\n      if (newHotKey.key && !newHotKey.change && hotKeys.newHotKey.change) {\r\n\r\n        for (const elem in hotKeys) {\r\n          if (hotKeys.hasOwnProperty(elem) && elem !== newHotKey.newHotKeyType) {\r\n            if (hotKeys[elem] === newHotKey.key) {\r\n              hotKeys[elem] = null;\r\n            }\r\n          } else {\r\n            hotKeys[elem] = newHotKey.key;\r\n          }\r\n        }\r\n\r\n\r\n\r\n        for (let i = 0; i < listOfIntervalsHotKeys.length; i++) {\r\n          if (newHotKey.index === null || newHotKey.index !== i) {\r\n            if (listOfIntervalsHotKeys[i] === newHotKey.key) {\r\n              listOfIntervalsHotKeys[i] = null;\r\n            }\r\n          } else {\r\n            listOfIntervalsHotKeys[i] = newHotKey.key;\r\n          }\r\n        }\r\n\r\n        throw new Error();\r\n\r\n        hotKeys.newHotKey = newHotKey;\r\n        hotKeys.listOfIntervalsHotKeys = listOfIntervalsHotKeys;\r\n\r\n        return { ...state, hotKeys: { ...hotKeys } };\r\n      }\r\n\r\n\r\n\r\n      return { ...state, hotKeys: { ...state.hotKeys, newHotKey } };\r\n\r\n    }\r\n\r\n    case SET_INITIAL_STATE: {\r\n\r\n      const { mode, stat } = state;\r\n\r\n      return {\r\n        ...initialState,\r\n        mode,\r\n        stat\r\n      };\r\n    }\r\n\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n","import {\r\n  getBaseArrayOfNotes,\r\n  getFullArrayAndMapIndexes,\r\n  setVisualEffect\r\n} from \"../arrayOfNotes\";\r\n\r\nimport {\r\n  UPDATE_PIANO_KEYS,\r\n  SET_BORDERS_OF_RANGE,\r\n  SHOW_NOTES_ON_THE_PIANO,\r\n  SET_INITIAL_STATE\r\n} from \"../actionTypes\";\r\n\r\nimport { dataOfIntervals } from \"../dataOfIntervals\";\r\n\r\nconst baseArrOfNotes = getBaseArrayOfNotes();\r\nconst { arrOfNotes, mapIndex } = getFullArrayAndMapIndexes(baseArrOfNotes);\r\nconst numberOfSemitones = dataOfIntervals.map(elem => elem.numberOfSemitones);\r\nconst minAmountOfNotes = Math.max.apply(null, numberOfSemitones);\r\n\r\nconst initialState = {\r\n  baseArrOfNotes,\r\n  arrOfNotes,\r\n  mapIndex,\r\n  firstBorder: { index: 0, key: baseArrOfNotes[0].key },\r\n  secondBorder: {\r\n    index: baseArrOfNotes.length - 1,\r\n    key: baseArrOfNotes[baseArrOfNotes.length - 1].key\r\n  },\r\n  sliceArr: baseArrOfNotes,\r\n  minAmountOfNotes\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_BORDERS_OF_RANGE: {\r\n      return { ...state, ...action.payload };\r\n    }\r\n\r\n    case UPDATE_PIANO_KEYS: {\r\n      const sliceArr = getBaseArrayOfNotes(\r\n        state.firstBorder.index,\r\n        state.secondBorder.index\r\n      );\r\n      const { arrOfNotes, mapIndex } = getFullArrayAndMapIndexes(sliceArr);\r\n\r\n      return { ...state, arrOfNotes, sliceArr, mapIndex };\r\n    }\r\n\r\n    case SHOW_NOTES_ON_THE_PIANO: {\r\n      let { arrOfNotes, mapIndex } = state;\r\n\r\n      const { sequence, type } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        arrOfNotes: setVisualEffect({\r\n          arrOfNotes,\r\n          sequence,\r\n          type,\r\n          active: true,\r\n          mapIndex\r\n        })\r\n      };\r\n    }\r\n\r\n\r\n    case SET_INITIAL_STATE: {\r\n      return initialState;\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import {\r\n  dataOfIntervals,\r\n  getChosenIntervals,\r\n  getNewInterval,\r\n  getNewSequenceOfNotes\r\n} from \"../dataOfIntervals\";\r\n\r\nimport {\r\n  SET_ACTIVE_TYPE_OF_INTERVAL,\r\n  INTERVALS_SETTINGS_ACTION,\r\n  INVERSE_CHOSEN_INTERVAL,\r\n  SHOW_THE_CORRECT_INTERVAL,\r\n  GET_NEXT_INTERVAL,\r\n  SET_INITIAL_STATE,\r\n  SET_ACTIVE_KEYBOARD_INTERVAL\r\n} from \"../actionTypes\";\r\n\r\nconst allIntervals = [...dataOfIntervals];\r\n\r\nconst getNewActiveInterval = arr => {\r\n  let chosenIntervals = getChosenIntervals(arr);\r\n\r\n  let activeInterval = getNewInterval(chosenIntervals);\r\n\r\n  return activeInterval;\r\n};\r\n\r\nconst initialState = {\r\n  allIntervals,\r\n  typeOfInterval: \"melodicUp\",\r\n  activeInterval: null,\r\n  nextActiveInterval: \"\",\r\n  sequenceOfNotes: [],\r\n  settingsIsOpen: false,\r\n  showAnswer: false,\r\n  activeKeyboardInterval: {}\r\n};\r\n\r\nconst findIndex = (arr, name) => {\r\n  const index = arr.findIndex(obj => obj.name === name);\r\n  return index;\r\n};\r\n\r\nconst getLengthOfChosenIntervals = arr => {\r\n  return arr.reduce((sum, elem) => {\r\n    return elem.chosen ? sum + 1 : sum;\r\n  }, 0);\r\n};\r\n\r\nconst getNewData = ({\r\n  initNewIntervalSequence,\r\n  nextActiveInterval,\r\n  nextSequenceOfNotes,\r\n  sliceArr,\r\n  allIntervals\r\n}) => {\r\n\r\n  const activeInterval = !initNewIntervalSequence\r\n    ? nextActiveInterval\r\n      ? nextActiveInterval\r\n      : getNewActiveInterval(allIntervals)\r\n    : getNewActiveInterval(allIntervals);\r\n\r\n\r\n  const sequenceOfNotes = !initNewIntervalSequence\r\n    ? nextSequenceOfNotes\r\n      ? nextSequenceOfNotes\r\n      : getNewSequenceOfNotes(sliceArr, activeInterval)\r\n    : getNewSequenceOfNotes(sliceArr, activeInterval);\r\n\r\n  nextActiveInterval = getNewActiveInterval(allIntervals);\r\n  nextSequenceOfNotes = getNewSequenceOfNotes(sliceArr, nextActiveInterval);\r\n\r\n  return {\r\n    sequenceOfNotes,\r\n    nextActiveInterval,\r\n    nextSequenceOfNotes,\r\n    activeInterval\r\n  };\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_ACTIVE_TYPE_OF_INTERVAL: {\r\n      return { ...state, typeOfInterval: action.payload };\r\n    }\r\n\r\n    case INTERVALS_SETTINGS_ACTION: {\r\n      const settingsIsOpen = action.payload;\r\n      return { ...state, settingsIsOpen };\r\n    }\r\n\r\n    case INVERSE_CHOSEN_INTERVAL: {\r\n      const interval = { ...action.payload };\r\n      const chosen = interval.chosen;\r\n\r\n      const allIntervals = [...state.allIntervals];\r\n\r\n      if (chosen && getLengthOfChosenIntervals(allIntervals) <= 2) {\r\n        return { ...state };\r\n      }\r\n\r\n      const index = findIndex(allIntervals, interval.name);\r\n      interval.chosen = !interval.chosen;\r\n\r\n      allIntervals[index] = interval;\r\n\r\n      return { ...state, allIntervals };\r\n    }\r\n\r\n    case SHOW_THE_CORRECT_INTERVAL: {\r\n      return { ...state, showAnswer: true };\r\n    }\r\n\r\n    case GET_NEXT_INTERVAL: {\r\n      const { sliceArr, initNewIntervalSequence } = action.payload;\r\n      const { allIntervals } = state;\r\n\r\n      let {\r\n        sequenceOfNotes,\r\n        nextActiveInterval,\r\n        nextSequenceOfNotes,\r\n        activeInterval\r\n      } = getNewData({\r\n        sliceArr,\r\n        initNewIntervalSequence,\r\n        allIntervals,\r\n        nextActiveInterval: state.nextActiveInterval,\r\n        nextSequenceOfNotes: state.nextSequenceOfNotes\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        activeInterval,\r\n        sequenceOfNotes,\r\n        showAnswer: false,\r\n        nextActiveInterval,\r\n        nextSequenceOfNotes\r\n      };\r\n    }\r\n\r\n\r\n    case SET_ACTIVE_KEYBOARD_INTERVAL: {\r\n      return { ...state, activeKeyboardInterval: action.payload };\r\n    }\r\n\r\n    case SET_INITIAL_STATE: {\r\n      return initialState;\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import {\r\n  INCREMENT_RIGHT_ANSWERS,\r\n  INCREMENT_AMOUNT_OF_ANSWERS,\r\n  NEXT_BUTTON_CLICK,\r\n  STATISTICS_CLEARING,\r\n  STATISTICS_HIDE_ANSWER\r\n} from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  nameOfInterval: \"\",\r\n  rightAnswers: 0,\r\n  amountOfAnswers: 0,\r\n  right: false,\r\n  showAnswer: false\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case STATISTICS_CLEARING: {\r\n      return { ...state, ...initialState };\r\n    }\r\n\r\n    case INCREMENT_RIGHT_ANSWERS: {\r\n      const rightAnswers = state.rightAnswers + 1;\r\n      const amountOfAnswers = state.amountOfAnswers + 1;\r\n      return {\r\n        ...state,\r\n        rightAnswers,\r\n        amountOfAnswers,\r\n        nameOfInterval: action.payload ? action.payload : null,\r\n        right: true,\r\n        showAnswer: true\r\n      };\r\n    }\r\n    case INCREMENT_AMOUNT_OF_ANSWERS: {\r\n      const amountOfAnswers = state.amountOfAnswers + 1;\r\n      return {\r\n        ...state,\r\n        amountOfAnswers,\r\n        nameOfInterval: action.payload ? action.payload : null,\r\n        right: false,\r\n        showAnswer: true\r\n      };\r\n    }\r\n\r\n    case NEXT_BUTTON_CLICK: {\r\n      return { ...state, nameOfInterval: \"\", right: false };\r\n    }\r\n\r\n    case STATISTICS_HIDE_ANSWER: {\r\n      return { ...state, showAnswer: false };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { SET_ACTIVE_NOTE } from \"../actionTypes\";\r\n\r\nconst initialState = { note: null };\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_ACTIVE_NOTE: {\r\n      const sliceArr = action.sliceArr;\r\n      const note = sliceArr[Math.floor(Math.random() * sliceArr.length)].key;\r\n\r\n      return { ...state, note };\r\n    }\r\n\r\n\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n","import {\r\n  GET_NEW_MELODY,\r\n  CHANGE_MODE,\r\n  ADD_NOTE_TO_ANSWER_ARRAY,\r\n  POP_LAST_ELEM_FROM_ANSWER_ARRAY,\r\n  WRITE_ANSWERS,\r\n  CLEAR_WRITTEN_MELODY,\r\n  CHANGE_SETTINGS,\r\n  SET_INITIAL_STATE\r\n} from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  amountOfNotes: 4,\r\n  sequenceOfMelody: [],\r\n  sequenceOfWrittenMelody: [],\r\n  readyToCheck: false,\r\n  defaultModeWrite: false,\r\n  answers: [],\r\n  answerGiven: false\r\n};\r\n\r\nconst getNewMelody = ({ sliceArr, amountOfNotes }) => {\r\n  const sequence = [];\r\n  for (let i = 0; i < amountOfNotes; i++) {\r\n    const note = { ...sliceArr[Math.floor(Math.random() * sliceArr.length)] };\r\n    sequence.push(note);\r\n  }\r\n\r\n  return sequence;\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_NEW_MELODY: {\r\n      const { amountOfNotes } = state;\r\n\r\n      const sliceArr = [...action.sliceArr];\r\n\r\n      const sequenceOfMelody = getNewMelody({ sliceArr, amountOfNotes });\r\n\r\n      return { ...state, sequenceOfMelody };\r\n    }\r\n    case CHANGE_MODE: {\r\n      const modeWrite = action.payload;\r\n      return { ...state, modeWrite, readyToCheck: false };\r\n    }\r\n\r\n    case ADD_NOTE_TO_ANSWER_ARRAY: {\r\n      const { sequenceOfWrittenMelody } = state;\r\n      sequenceOfWrittenMelody.push(action.payload);\r\n\r\n      let readyToCheck = false;\r\n\r\n      if (state.amountOfNotes === sequenceOfWrittenMelody.length) {\r\n        readyToCheck = true;\r\n      }\r\n\r\n      return { ...state, sequenceOfWrittenMelody, readyToCheck };\r\n    }\r\n\r\n    case POP_LAST_ELEM_FROM_ANSWER_ARRAY: {\r\n      const sequenceOfWrittenMelody = [...state.sequenceOfWrittenMelody];\r\n\r\n      if (sequenceOfWrittenMelody.length > 0) {\r\n        sequenceOfWrittenMelody.pop();\r\n      }\r\n\r\n      return { ...state, sequenceOfWrittenMelody };\r\n    }\r\n\r\n    case WRITE_ANSWERS: {\r\n      const answerGiven = action.payload.length > 0;\r\n      return { ...state, answers: action.payload, answerGiven };\r\n    }\r\n\r\n    case CLEAR_WRITTEN_MELODY: {\r\n      return { ...state, sequenceOfWrittenMelody: [] };\r\n    }\r\n\r\n    case CHANGE_SETTINGS: {\r\n      return { ...state, ...action.payload };\r\n    }\r\n\r\n\r\n    case SET_INITIAL_STATE: {\r\n      return initialState;\r\n    }\r\n\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport application from \"./applicationReducer\";\r\nimport piano from \"./pianoReducer\";\r\nimport intervals from \"./intervalsReducer\";\r\nimport statistics from \"./statisticsReducer\";\r\nimport notes from \"./notesReducer\";\r\nimport dictation from \"./dictationReducer\";\r\n\r\nexport default combineReducers({\r\n  application,\r\n  piano,\r\n  intervals,\r\n  statistics,\r\n  notes,\r\n  dictation\r\n});\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst persistedState = localStorage.getItem(\"reduxState\")\r\n  ? JSON.parse(localStorage.getItem(\"reduxState\"))\r\n  : {};\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  persistedState,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nstore.subscribe(() => {\r\n  const state = store.getState();\r\n\r\n  const sliceState = {};\r\n\r\n  sliceState.piano = state.piano;\r\n  sliceState.dictation = state.dictation;\r\n  sliceState.application = state.application;\r\n  // sliceState.intervals = state.intervals;\r\n\r\n\r\n  const { allIntervals, typeOfInterval } = state.intervals;\r\n  sliceState.intervals = { allIntervals, typeOfInterval };\r\n\r\n  localStorage.setItem(\"reduxState\", JSON.stringify(sliceState));\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./containers/appContainer\";\r\n\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./store/store\";\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<HashRouter>\r\n\t\t\t<App />\r\n\t\t</HashRouter>\r\n\t</Provider >,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}