(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(70)},39:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),c=n(5),s=n(6),l=n(8),u=n(7),p=n(9),d=(n(39),n(31)),m=n.n(d),f=n(18),O=(n(55),n(56),function(e){var t=e.clickHandler,n=e.menuIsOpen,a=e.left,o="burger".concat(n?" active":"");return r.a.createElement("div",{style:{left:a},className:o,onClick:t},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))}),h=n(15),v=function(e){var t=e.left,n=e.clickHandler;return r.a.createElement("div",{className:"menu-body",style:{left:t}},r.a.createElement("nav",{className:"nav"},r.a.createElement(h.b,{onClick:n,to:"/"},"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u0430\u044f \u0438\u0433\u0440\u0430"),r.a.createElement(h.b,{onClick:n,to:"/find-note"},"\u0418\u0441\u043a\u0430\u0442\u044c \u043d\u043e\u0442\u0443"),r.a.createElement(h.b,{onClick:n,to:"/intervals"},"\u041f\u043e\u0438\u0441\u043a \u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0430"),r.a.createElement(h.b,{onClick:n,to:"/dictation"},"\u041c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0438\u043a\u0442\u0430\u043d\u0442"),r.a.createElement(h.b,{onClick:n,to:"/options"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")))},y=function(e){var t=e.menuIsOpen,n=e.actionMenuAction,a=t?"260px":"10px",o=t?"0px":"-1000px",c=function(){n()};return i.a.createPortal(r.a.createElement("div",{className:"menu"},r.a.createElement(v,{left:o,clickHandler:c}),r.a.createElement(O,{left:a,clickHandler:c,menuIsOpen:t})),document.getElementById("menu"))},N=n(2),E=n(1),A=function(e){return{type:"MENU_ACTION",payload:{isOpen:e}}},I=function(e){return{type:"NEED_TO_WRITE_NOTE",payload:e}},g=function(e,t){return{type:"WRITE_PLAY_NOTE",needToWriteNote:t,payload:Object(E.a)({},e,{id:Date.now()})}},S=function(e){return{type:"SET_MODE",payload:{mode:e.mode,stat:e.stat}}},b={actionMenuAction:A},w=Object(N.b)(function(e){return{menuIsOpen:e.application.menuIsOpen}},b)(y),T=function(e){var t=e.rightAnswers,n=e.amountOfAnswers,a=0!==n?Math.floor(Math.round(t/n*100)):"0";return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,t),"\xa0/\xa0",r.a.createElement("span",null,n),"\xa0",r.a.createElement("span",null,"(",a,"%)"))},M=function(e){var t=e.name;return r.a.createElement("span",null,t)},_=(n(60),function(e){var t=e.stat,n=t.nameOfInterval,a=t.right,o=t.rightAnswers,i=t.amountOfAnswers,c=t.showAnswer,s=n?r.a.createElement(M,{name:n}):r.a.createElement(T,{rightAnswers:o,amountOfAnswers:i}),l=["stat"];return c&&(a?l.push("rightAnswer"):l.push("wrongAnswer")),r.a.createElement("div",{className:l.join(" ")},s)}),C=Object(N.b)(function(e){return{stat:e.statistics}},{})(_),k=(n(61),function(e){var t=e.stat,n=e.mode;return r.a.createElement("div",{className:"header"},t?r.a.createElement(C,null):null,n?r.a.createElement("h2",null,n):null)}),j=Object(N.b)(function(e){var t=e.application;return{mode:t.mode,stat:t.stat}},{})(k),W=(n(62),function(e){var t=e.elem,n=e.className,a=e.sharp,o=e.play;return r.a.createElement("div",{className:n.join(" "),onClick:function(){o(t.key)}},a?t.name:t.fullName)});W.defaultProps={play:function(){}};var R=W,B=function(e){var t=e.elem,n=e.play;return t.map(function(e){var t=["piano-key"],a=e.name.includes("#")?"piano-black-key":"piano-white-key";return t.push(a),e.active&&t.push("piano-key-active"),e.right&&t.push("piano-key-right"),e.wrong&&t.push("piano-key-wrong"),r.a.createElement(R,{play:n,key:e.key,elem:e,className:t})})};B.defaultProps={play:function(){},elem:[]};var x=B,q=function(e){var t=e.arrOfNotes,n=e.play;return t.map(function(e){var t=r.a.createElement(x,{elem:e,play:n});return r.a.createElement("div",{key:e[0].fullName,className:"piano-keys-section"},t)})};q.defaultProps={arrOfNotes:[],play:function(){}};var H=q,D=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.arrOfNotes,n=e.play;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"piano"},r.a.createElement(H,{arrOfNotes:t,play:n})))}}]),t}(r.a.Component),P=Object(N.b)(function(e){return{arrOfNotes:e.piano.arrOfNotes}})(D),G=(n(63),n(64),function(e){var t=e.children,n=["buttonGroup",e.cls];return r.a.createElement("div",{className:n.join(" ")},t)});G.defaultProps={children:"",cls:"horizontal"};var U=G,L=(n(65),function(e){var t=e.onClick,n=e.children,a=e.cls,o=e.active,i=e.disabled,c=["button",a];return o&&c.push("active"),r.a.createElement("button",{onClick:t,className:c.join(" "),disabled:i},n)});L.defaultProps={children:"click",onClick:function(){},cls:"secondary-outline",active:!1};var K=L,V=function(e){var t=e.sequenceOfNotes,n=e.nextSequenceOfNotes,a=e.typeOfInterval,o=e.settingsIsOpen,i=e.showAnswer,c=e.sliceArr,s=e.play,l=e.actionIntervalsSettingsAction,u=e.actionNextButtonClick,p=e.actionGetNextInterval,d=e.actionHideAnswer,m=e.actionUpdatePianoKeys,f=function(){var e,r;switch(i?(e=n[0],r=n[1]):(e=t[0],r=t[1]),a){case"melodicUp":s(e),setTimeout(function(){s(r)},800);break;case"melodicDown":s(r),setTimeout(function(){s(e)},800);break;case"harmonic":s(e),s(r);break;default:return}};return r.a.createElement(U,{cls:"horizontal"},r.a.createElement(K,{cls:o?"secondary":"info",disabled:!!o,onClick:i?function(){u(!o),p({sliceArr:c}),m(),d(),f()}:f},i?"\u0414\u0430\u043b\u044c\u0448\u0435":"\u0418\u0433\u0440\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b"),r.a.createElement(K,{cls:o?"info":"secondary",onClick:function(){l(!o),o&&(u(),m(),d(),p({sliceArr:c,initNewIntervalSequence:!0}))}},o?"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))},F=function(e){var t=e.actionSetActiveTypeOfInterval,n=e.typeOfInterval,a="primary active",o="melodicUp"===n,i="melodicDown"===n,c="harmonic"===n;return r.a.createElement(U,{cls:"horizontal"},r.a.createElement(K,{cls:o?a:"primary-outline",onClick:function(){t("melodicUp")},disabled:!!o},"\u041c\u0435\u043b\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u0432\u0435\u0440\u0445"),r.a.createElement(K,{cls:i?a:"primary-outline",onClick:function(){t("melodicDown")},disabled:!!i},"\u041c\u0435\u043b\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u043d\u0438\u0437"),r.a.createElement(K,{cls:c?a:"primary-outline",onClick:function(){t("harmonic")},disabled:!!c},"\u0413\u0430\u0440\u043c\u043e\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439"))},Y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.actionGetNextInterval({sliceArr:this.props.sliceArr,initNewIntervalSequence:!0}),this.props.actionSetMode({mode:"\u041f\u043e\u0438\u0441\u043a \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0430",stat:!0}),this.props.actionUpdatePianoKeys()}},{key:"componentWillUnmount",value:function(){this.props.actionStatisticsClearing(),this.props.actionIntervalsSettingsAction(!1)}},{key:"render",value:function(){var e=this.props,t=e.sliceArr,n=e.play,a=e.typeOfInterval,o=e.sequenceOfNotes,i=e.nextSequenceOfNotes,c=e.settingsIsOpen,s=e.showAnswer,l=e.actionSetActiveTypeOfInterval,u=e.actionIntervalsSettingsAction,p=e.actionNextButtonClick,d=e.actionGetNextInterval,m=e.actionHideAnswer,f=e.actionUpdatePianoKeys;return r.a.createElement("div",{className:"intervalsOptionsButtons"},r.a.createElement(V,{sequenceOfNotes:o,nextSequenceOfNotes:i,typeOfInterval:a,settingsIsOpen:c,showAnswer:s,sliceArr:t,play:n,actionIntervalsSettingsAction:u,actionNextButtonClick:p,actionGetNextInterval:d,actionUpdatePianoKeys:f,actionHideAnswer:m}),r.a.createElement(F,{typeOfInterval:a,actionSetActiveTypeOfInterval:l}))}}]),t}(r.a.Component),X=function(e){return{type:"INCREMENT_RIGHT_ANSWERS",payload:e}},z=function(e){return{type:"INCREMENT_AMOUNT_OF_ANSWERS",payload:e}},J=function(){return{type:"STATISTICS_CLEARING"}},Q=function(){return{type:"STATISTICS_HIDE_ANSWER"}},Z=function(){return{type:"UPDATE_PIANO_KEYS"}},$=function(e){return{type:"SHOW_NOTES_ON_THE_PIANO",payload:e}},ee={actionSetActiveTypeOfInterval:function(e){return{type:"SET_ACTIVE_TYPE_OF_INTERVAL",payload:e}},actionIntervalsSettingsAction:function(e){return{type:"INTERVALS_SETTINGS_ACTION",payload:e}},actionNextButtonClick:function(e){return{type:"NEXT_BUTTON_CLICK",payload:e}},actionGetNextInterval:function(e){return{type:"GET_NEXT_INTERVAL",payload:e}},actionStatisticsClearing:J,actionHideAnswer:Q,actionSetMode:S,actionUpdatePianoKeys:Z},te=Object(N.b)(function(e){var t=e.intervals;return{sliceArr:e.piano.sliceArr,sequenceOfNotes:t.sequenceOfNotes,nextSequenceOfNotes:t.nextSequenceOfNotes,typeOfInterval:t.typeOfInterval,showAnswer:t.showAnswer,settingsIsOpen:t.settingsIsOpen}},ee)(Y),ne=function(e){var t=e.group,n=e.settingsIsOpen,a=e.activeInterval,o=e.sequenceOfNotes,i=e.actionShowTheCorrectInterval,c=e.actionInverseChosenInterval,s=e.actionIncrementRightAnswers,l=e.actionIncrementAmountOfAnswers,u=e.actionShowNotesOnThePiano,p=n?c:function(e){i();var t=a.name===e.name,n=t?"right":"wrong";t?(s(a.rusName),u({type:n,sequence:o})):(l(a.rusName),u({type:n,sequence:o}))},d=t.map(function(e){return r.a.createElement(K,{key:e.name,onClick:function(){p(e)}},n?r.a.createElement("span",{className:"check"},e.chosen?String.fromCharCode(10003):String.fromCharCode(215)):null,e.rusName)});return r.a.createElement(U,{cls:"vertical"},d)},ae=[{name:"minorSecond",rusName:"\u041c\u0430\u043b\u0430\u044f \u0421\u0435\u043a\u0443\u043d\u0434\u0430",numberOfSemitones:1,chosen:!0},{name:"majorSecond",rusName:"\u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0421\u0435\u043a\u0443\u043d\u0434\u0430",numberOfSemitones:2,chosen:!0},{name:"minorThird",rusName:"\u041c\u0430\u043b\u0430\u044f \u0422\u0435\u0440\u0446\u0438\u044f",numberOfSemitones:3,chosen:!0},{name:"majorThird",rusName:"\u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0422\u0435\u0440\u0446\u0438\u044f",numberOfSemitones:4,chosen:!0},{name:"perfectFourth",rusName:"\u0427\u0438\u0441\u0442\u0430\u044f \u041a\u0432\u0430\u0440\u0442\u0430",numberOfSemitones:5,chosen:!0},{name:"triton",rusName:"\u0422\u0440\u0438\u0442\u043e\u043d",numberOfSemitones:6,chosen:!0},{name:"perfectFifth",rusName:"\u0427\u0438\u0441\u0442\u0430\u044f \u041a\u0432\u0438\u043d\u0442\u0430",numberOfSemitones:7,chosen:!0},{name:"minorSixth",rusName:"\u041c\u0430\u043b\u0430\u044f \u0421\u0435\u043a\u0441\u0442\u0430",numberOfSemitones:8,chosen:!0},{name:"majorSixth",rusName:"\u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0421\u0435\u043a\u0441\u0442\u0430",numberOfSemitones:9,chosen:!0},{name:"minorSeventh",rusName:"\u041c\u0430\u043b\u0430\u044f \u0421\u0435\u043f\u0442\u0438\u043c\u0430",numberOfSemitones:10,chosen:!0},{name:"majorSeventh",rusName:"\u0411\u043e\u043b\u044c\u0448\u0430\u044f \u0421\u0435\u043f\u0442\u0438\u043c\u0430",numberOfSemitones:11,chosen:!0},{name:"octave",rusName:"\u041e\u043a\u0442\u0430\u0432\u0430",numberOfSemitones:12,chosen:!0}],re=function(e){return e.filter(function(e){return e.chosen})},oe=function(e){var t,n,a=[];for(t=0,n=e.length;t<n;t+=4)a.push(e.slice(t,t+4));return a},ie=function(e,t){var n=t.numberOfSemitones;return ce(e,n)},ce=function(e,t){var n=e[Math.floor(Math.random()*e.length)],a=e[e.indexOf(n)+t];return a||(a=e[e.length-1],n=e[e.indexOf(a)-t]),[n.key,a.key]},se=function(e){var t=e.settingsIsOpen,n=e.allIntervals,a=e.activeInterval,o=e.showAnswer,i=e.sequenceOfNotes,c=e.actionInverseChosenInterval,s=e.actionShowTheCorrectInterval,l=e.actionIncrementRightAnswers,u=e.actionIncrementAmountOfAnswers,p=e.actionShowNotesOnThePiano,d=oe(t?n:re(n)).map(function(e){return r.a.createElement(ne,{group:e,key:e[0].name,settingsIsOpen:t,activeInterval:a,sequenceOfNotes:i,actionShowTheCorrectInterval:s,actionInverseChosenInterval:c,actionIncrementRightAnswers:l,actionIncrementAmountOfAnswers:u,actionShowNotesOnThePiano:p})});return r.a.createElement("div",{className:"listOfIntervals",style:o&&!t?{visibility:"hidden"}:null},d)},le={actionInverseChosenInterval:function(e){return{type:"INVERSE_CHOSEN_INTERVAL",payload:e}},actionShowTheCorrectInterval:function(){return{type:"SHOW_THE_CORRECT_INTERVAL"}},actionIncrementRightAnswers:X,actionIncrementAmountOfAnswers:z,actionShowNotesOnThePiano:$},ue=Object(N.b)(function(e){var t=e.intervals;return{settingsIsOpen:t.settingsIsOpen,allIntervals:t.allIntervals,activeInterval:t.activeInterval,showAnswer:t.showAnswer,sequenceOfNotes:t.sequenceOfNotes}},le)(se),pe=function(e){var t=e.play;return r.a.createElement("div",{className:"intervals"},r.a.createElement(te,{play:t}),r.a.createElement(ue,null))},de=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={status:""},n.onMIDIOnStateChange=function(e){n.setState({status:e.port.manufacturer+" "+e.port.name+" "+e.port.state})},n.requestMIDIAccessSuccess=function(e){for(var t=e.inputs.values(),a=t.next();a&&!a.done;a=t.next())a.value.onmidimessage=n.midiOnMIDImessage;e.onstatechange=n.onMIDIOnStateChange},n.requestMIDIAccessFailure=function(){n.setState({status:"MIDI Access Failure"})},n.midiOnMIDImessage=function(e){var t=e.data[2],a=e.data[0],r=e.data[1],o=n.props.sliceArr;if(r>=o[0].key&&r<=o[o.length-1].key){var i={sequence:[r],type:"active"};144===a&&0!==t?(n.props.actionShowNotesOnThePiano(i),n.props.play(r)):128!==a&&0!==t||n.props.actionUpdatePianoKeys()}},n.startListening=function(){n.setState({status:"waiting"}),navigator.requestMIDIAccess?navigator.requestMIDIAccess({sysex:!0}).then(n.requestMIDIAccessSuccess,n.requestMIDIAccessFailure):n.setState({status:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043c\u0438\u0434\u0438-\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0443"})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"activate-midi"},r.a.createElement(K,{cls:"primary",onClick:this.startListening},"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c MIDI \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443"),r.a.createElement("p",{style:{marginTop:"20px"}},r.a.createElement("b",null,"\u0421\u0442\u0430\u0442\u0443\u0441 midi:")," ",this.state.status?this.state.status:"\u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430"))}}]),t}(a.Component),me={actionShowNotesOnThePiano:$,actionUpdatePianoKeys:Z},fe=Object(N.b)(function(e){return{sliceArr:e.piano.sliceArr}},me)(de),Oe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).setVisualEffect=function(e){var t=e.right,a=e.note,r=[n.props.playNote.key];t?n.setRightVisualEffect({sequence:r}):n.setWrongVisualEffect({sequence:r,note:a})},n.setRightVisualEffect=function(e){var t={sequence:e.sequence,type:"right"};n.props.actionShowNotesOnThePiano(t),setTimeout(function(){n.props.actionUpdatePianoKeys(),n.props.actionHideAnswer()},2e3)},n.setWrongVisualEffect=function(e){var t={sequence:e.sequence,type:"wrong"},a={sequence:[e.note],type:"right"};n.props.actionShowNotesOnThePiano(t),n.props.actionShowNotesOnThePiano(a),setTimeout(function(){n.props.actionUpdatePianoKeys(),n.props.actionHideAnswer()},1500)},n.playButtonHandler=function(){var e=n.props.note;n.props.play(e),n.setMode(!1)},n.answerButtonHandler=function(){n.setMode(!0)},n.setMode=function(e){n.props.needToWriteNote!==e&&n.props.actionNeedToWriteNote(e)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.actionSetActiveNote(this.props.sliceArr),this.props.actionSetMode({mode:"\u0418\u0441\u043a\u0430\u0442\u044c \u043d\u043e\u0442\u0443",stat:!0}),this.props.actionUpdatePianoKeys()}},{key:"componentWillUnmount",value:function(){this.props.actionStatisticsClearing()}},{key:"componentDidUpdate",value:function(e){if(e.needToWriteNote&&!this.props.needToWriteNote&&null!==this.props.playNote){var t=this.props.playNote.key,n=this.props.note;t===n?(this.props.actionIncrementRightAnswers(),this.setVisualEffect({right:!0})):(this.props.actionIncrementAmountOfAnswers(),this.setVisualEffect({right:!1,note:n})),this.props.actionSetActiveNote(this.props.sliceArr)}}},{key:"render",value:function(){var e=this.props.needToWriteNote,t=this.playButtonHandler,n=this.answerButtonHandler;return r.a.createElement("div",{className:"findNote"},r.a.createElement(U,{cls:"horizontal"},r.a.createElement(K,{cls:e?"secondary-outline":"info",onClick:t},"\u0418\u0433\u0440\u0430\u0442\u044c \u043d\u043e\u0442\u0443"),r.a.createElement(K,{cls:e?"info":"secondary-outline",onClick:n},"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c")))}}]),t}(a.Component),he={actionStatisticsClearing:J,actionSetActiveNote:function(e){return{type:"SET_ACTIVE_NOTE",sliceArr:e}},actionIncrementRightAnswers:X,actionIncrementAmountOfAnswers:z,actionNeedToWriteNote:I,actionShowNotesOnThePiano:$,actionHideAnswer:Q,actionSetMode:S,actionUpdatePianoKeys:Z},ve=Object(N.b)(function(e){var t=e.statistics,n=e.notes,a=e.piano,r=e.application;return{statistics:t,note:n.note,sliceArr:a.sliceArr,playNote:r.playNote,needToWriteNote:r.needToWriteNote}},he)(Oe),ye=(n(66),function(e){var t=e.playGuessedMelody,n=e.playWrittenMelody;return r.a.createElement(U,{cls:"horizontal"},r.a.createElement(K,{onClick:t},"\u0418\u0433\u0440\u0430\u0442\u044c \u0443\u0433\u0430\u0434\u044b\u0432\u0430\u0435\u043c\u0443\u044e \u043c\u0435\u043b\u043e\u0434\u0438\u044e"),r.a.createElement(K,{onClick:n},"\u0418\u0433\u0440\u0430\u0442\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u0443\u044e \u043c\u0435\u043b\u043e\u0434\u0438\u044e"))}),Ne=function(e){var t=e.modeWrite,n=e.changeMode,a=e.clearButtonHandler,o=e.checkAnswerHandler,i=e.sequenceOfWrittenMelody,c=e.amountOfNotes,s=e.answerGiven,l=e.nextButtonHandler,u=e.settingsButtonHandler,p=c===i.length&&!s;return r.a.createElement("div",{className:"dictation-options-buttons"},r.a.createElement(U,{cls:"horizontal"},r.a.createElement(K,{onClick:function(){n(),s&&l()},cls:t?"info-outline":"info active",disabled:!t},s?"\u0414\u0430\u043b\u0435\u0435":"\u0418\u0433\u0440\u0430\u0442\u044c"),s?null:r.a.createElement(K,{onClick:n,cls:t?"info active":"info-outline",disabled:!!t},"\u041f\u0438\u0441\u0430\u0442\u044c")),r.a.createElement(U,{cls:"horizontal"},r.a.createElement(K,{onClick:a},"\u0421\u0442\u0435\u0440\u0435\u0442\u044c"),r.a.createElement(K,{onClick:o,cls:p?"danger":"danger-outline",disabled:!p},"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c")),r.a.createElement(K,{cls:"primary",onClick:u},"\u041d\u0430\u0441\u0442\u0440\u043e\u043a\u0438"))},Ee=function(e){var t=e.elem,n=e.index,a=e.rightAnswer,o=e.answerGiven,i=e.rightElem,c=o?a?"right":"wrong":"",s=o?a?null:r.a.createElement("span",{className:"right"},"\xa0",i?"".concat(i.octaveName," - ").concat(i.fullName):" ?"):null;return r.a.createElement("p",{className:"dictation-output-element"},r.a.createElement("span",{className:"index-output-element"},"".concat(n+1," \u043d\u043e\u0442\u0430:")),"\xa0",r.a.createElement("span",{className:c},t?"".concat(t.octaveName," - ").concat(t.fullName):" ?"),s)},Ae=function(e){for(var t=e.amountOfNotes,n=e.sequenceOfMelody,a=e.sequenceOfWrittenMelody,o=e.answerGiven,i=e.answers,c=[],s=0;s<t;s++){var l=a[s],u=n[s],p=r.a.createElement(Ee,{elem:l,index:s,answerGiven:o,rightAnswer:i[s],rightElem:u,key:s});c.push(p)}return r.a.createElement("div",{className:"dictation-output"},r.a.createElement("h3",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u043e\u0442:"),c)},Ie=(n(67),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={opacity:0},n.modal=document.createElement("div"),n.closeHandler=function(){n.setState({opacity:0}),setTimeout(function(){n.props.close()},100)},n.saveHandler=function(){n.closeHandler(),n.props.saveButtonHandler()},n.cancelHandler=function(){n.closeHandler(),n.props.cancelButtonHandler()},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.modal.className="modal-wrap",document.body.appendChild(this.modal),document.body.style.overflow="hidden",setTimeout(function(){e.setState({opacity:1})},100)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.modal),document.body.style.overflow="auto"}},{key:"render",value:function(){var e=this.props,t=e.saveButton,n=e.saveButtonName,a=e.cancelButton,o=e.cancelButtonName;return i.a.createPortal(r.a.createElement("div",{className:"modal-window",style:{opacity:this.state.opacity}},r.a.createElement("span",{className:"close",onClick:this.closeHandler},"\xd7"),this.props.children,r.a.createElement(U,{cls:"flex"},t?r.a.createElement(K,{onClick:this.saveHandler,cls:"info"},n):null,a?r.a.createElement(K,{onClick:this.cancelHandler,cls:"danger"},o):null)),this.modal)}}]),t}(a.Component)),ge=(n(68),function(e){var t=e.value,n=e.onChange,a=e.children;return r.a.createElement("select",{className:"select",defaultValue:t,onChange:n},a)}),Se=[3,4,5,6,7].map(function(e){return r.a.createElement("option",{value:e,key:e},e)}),be=function(e){var t=e.value,n=e.onChange;return r.a.createElement(ge,{onChange:n,value:t},Se)},we=[{modePlay:!1,ru:"\u0418\u0433\u0440\u0430\u0442\u044c"},{modePlay:!0,ru:"\u041f\u0438\u0441\u0430\u0442\u044c"}].map(function(e){return r.a.createElement("option",{value:e.modePlay,key:e.ru},e.ru)}),Te=function(e){var t=e.value,n=e.onChange;return r.a.createElement(ge,{onChange:n,value:t},we)},Me=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={amountOfNotes:4,defaultModeWrite:!1,modeWrite:!1},n.selectAmountOfNotesHandler=function(e){n.setState({amountOfNotes:+e.target.value})},n.selectModesHandler=function(e){var t,a,r=e.target.value;"true"===r&&(t=!0,a=!0),"false"===r&&(t=!1,a=!1),n.setState({defaultModeWrite:t,modeWrite:a})},n.saveButtonHandler=function(){n.props.actionChangeSettings(n.state)},n.cancelButtonHandler=function(){n.setState({amountOfNotes:n.props.amountOfNotes,defaultModeWrite:n.props.defaultModeWrite})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.amountOfNotes,n=e.defaultModeWrite;this.setState({amountOfNotes:t,defaultModeWrite:n})}},{key:"render",value:function(){var e=this.props,t=e.settingsButtonHandler,n=e.amountOfNotes,a=e.defaultModeWrite,o=this.selectAmountOfNotesHandler,i=this.selectModesHandler,c=this.saveButtonHandler,s=this.cancelButtonHandler;return r.a.createElement(Ie,{close:t,saveButton:!0,saveButtonName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelButton:!0,cancelButtonName:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",saveButtonHandler:c,cancelButtonHandler:s},r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0438\u043a\u0442\u0430\u043d\u0442\u0430"),r.a.createElement("h4",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u0442:"),r.a.createElement(be,{value:n,onChange:o}),r.a.createElement("h4",null,"\u0420\u0435\u0436\u0438\u043c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e:"),r.a.createElement(Te,{value:a,onChange:i})))}}]),t}(a.Component),_e={actionChangeSettings:function(e){return{type:"CHANGE_SETTINGS",payload:e}}},Ce=Object(N.b)(function(e){var t=e.dictation;return{amountOfNotes:t.amountOfNotes,defaultModeWrite:t.defaultModeWrite}},_e)(Me),ke=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modalIsOpen:!1},n.setNewMelody=function(){n.props.actionGetNewMelody(n.props.sliceArr)},n.clearAnswers=function(){n.props.actionWriteAnswers([])},n.playGuessedMelody=function(){var e=n.props.dictation.sequenceOfMelody.map(function(e){return e.key});n.playMelody(e)},n.playWrittenMelody=function(){var e=n.getKeysArrayOfMeloday(n.props.dictation.sequenceOfWrittenMelody);n.playMelody(e)},n.playMelody=function(e){for(var t=function(t){e[t]&&setTimeout(function(){n.props.play(e[t],!0)},800*t)},a=0;a<e.length;a++)t(a)},n.changeMode=function(e,t){t="boolean"===typeof t?t:!n.props.dictation.modeWrite,n.props.actionChangeMode(t),n.props.actionNeedToWriteNote(t)},n.clearButtonHandler=function(){n.props.dictation.sequenceOfWrittenMelody.length>0&&n.props.actionPopLastElemFromAnswerArray()},n.checkAnswerHandler=function(){var e=n.getKeysArrayOfMeloday(n.props.dictation.sequenceOfMelody),t=n.getKeysArrayOfMeloday(n.props.dictation.sequenceOfWrittenMelody);if(e.length===t.length){var a=n.getArrayOfEqualsOfAnswers(e,t);n.changeStat(a),n.props.actionWriteAnswers(a)}},n.getKeysArrayOfMeloday=function(e){return e.map(function(e){return e.key})},n.getArrayOfEqualsOfAnswers=function(e,t){for(var n=[],a=0;a<e.length;a++)n.push(e[a]===t[a]);return n},n.changeStat=function(e){-1===e.indexOf(!1)?n.props.actionIncrementRightAnswers():n.props.actionIncrementAmountOfAnswers()},n.nextButtonHandler=function(){n.setNewMelody(),n.clearAnswers(),n.props.actionClearWrittenMelody(),n.props.actionHideAnswer()},n.settingsButtonHandler=function(){n.setState(function(e){return{modalIsOpen:!e.modalIsOpen}})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.dictation.defaultModeWrite;this.props.actionWritePlayNote(null,!1),this.changeMode(null,e),this.props.needToWriteNote!==e&&this.props.actionNeedToWriteNote(e),this.setNewMelody(),this.props.actionInitDictation(!0),this.props.actionSetMode({mode:"\u041c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0438\u043a\u0442\u0430\u043d\u0442",stat:!0}),this.props.actionUpdatePianoKeys(),this.props.actionClearWrittenMelody(),this.clearAnswers()}},{key:"componentWillUnmount",value:function(){this.props.actionInitDictation(!1),this.clearAnswers(),this.props.actionStatisticsClearing(),this.props.actionClearWrittenMelody()}},{key:"componentDidUpdate",value:function(e){var t=this.props.dictation.sequenceOfWrittenMelody,n=this.props.dictation.amountOfNotes,a=this.props.playNote;t.length<n&&a&&(e.playNote&&a.id!==e.playNote.id||null===e.playNote&&null!==a)&&this.props.actionAddNoteToAnswerArray(a)}},{key:"render",value:function(){var e=this.props.dictation.modeWrite||!1,t=this.props.needToWriteNote,n=this.props.dictation,a=n.amountOfNotes,o=n.sequenceOfMelody,i=n.sequenceOfWrittenMelody,c=n.answerGiven,s=n.answers,l=this.nextButtonHandler,u=this.settingsButtonHandler;return r.a.createElement("div",null,r.a.createElement(ye,{playGuessedMelody:this.playGuessedMelody,playWrittenMelody:this.playWrittenMelody}),r.a.createElement(Ne,{modeWrite:e,changeMode:this.changeMode,clearButtonHandler:this.clearButtonHandler,checkAnswerHandler:this.checkAnswerHandler,sequenceOfWrittenMelody:i,amountOfNotes:a,answerGiven:c,nextButtonHandler:l,settingsButtonHandler:u}),r.a.createElement(Ae,{amountOfNotes:a,needToWriteNote:t,sequenceOfMelody:o,sequenceOfWrittenMelody:i,answerGiven:c,answers:s}),this.state.modalIsOpen?r.a.createElement(Ce,{settingsButtonHandler:u}):null)}}]),t}(a.Component),je={actionGetNewMelody:function(e){return{type:"GET_NEW_MELODY",sliceArr:e}},actionChangeMode:function(e){return{type:"CHANGE_MODE",payload:e}},actionNeedToWriteNote:I,actionInitDictation:function(e){return{type:"INIT_DICTATION",payload:e}},actionAddNoteToAnswerArray:function(e){return{type:"ADD_NOTE_TO_ANSWER_ARRAY",payload:e}},actionWritePlayNote:g,actionPopLastElemFromAnswerArray:function(){return{type:"POP_LAST_ELEM_FROM_ANSWER_ARRAY"}},actionWriteAnswers:function(e){return{type:"WRITE_ANSWERS",payload:e}},actionStatisticsClearing:J,actionIncrementRightAnswers:X,actionIncrementAmountOfAnswers:z,actionClearWrittenMelody:function(){return{type:"CLEAR_WRITTEN_MELODY"}},actionHideAnswer:Q,actionSetMode:S,actionUpdatePianoKeys:Z},We=Object(N.b)(function(e){var t=e.piano,n=e.dictation,a=e.application;return{sliceArr:t.sliceArr,dictation:n,needToWriteNote:a.needToWriteNote,playNote:a.playNote}},je)(ke),Re=function(e){var t=e.actionSetMode,n=e.actionUpdatePianoKeys;return t({mode:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u0430\u044f \u0438\u0433\u0440\u0430",stat:!1}),n(),r.a.createElement("div",{className:"free-mode"})},Be={actionSetMode:S,actionUpdatePianoKeys:Z},xe=Object(N.b)(function(){return{}},Be)(Re),qe=function(e){var t=e.index,n=e.fullName,a=e.disabled;return r.a.createElement("option",{disabled:a,value:t},n)},He=n(4),De=n.n(He),Pe=function(e){var t=e.baseArrOfNotes,n=e.firstBorder,a=e.secondBorder,o=e.nameOfSelect,i=e.minAmountOfNotes;return t.map(function(e){var t=e.fullName,c=e.key,s=e.index,l=!1;return"firstBorder"===o?c>a.key-i&&(l=!0):c<n.key+i&&(l=!0),r.a.createElement(qe,{disabled:l,fullName:t,index:s,key:c})})};Pe.propType={minAmountOfNotes:De.a.number.isRequired,firstBorder:De.a.shape({index:De.a.number.isRequired,key:De.a.number.isRequired}),secondBorder:De.a.shape({index:De.a.number.isRequired,key:De.a.number.isRequired}),nameOfSelect:De.a.string.isRequired,baseArrOfNotes:De.a.arrayOf(De.a.object.isRequired)};for(var Ge=Pe,Ue=function(e){var t=e.nameOfSelect,n=e.baseArrOfNotes,a=e.minAmountOfNotes,o=e.actionSetBordersOfRange,i=e.firstBorder,c=e.secondBorder,s="firstBorder"===t?i.index:c.index;return r.a.createElement(ge,{value:s,onChange:function(e){!function(e,t){var a=+e.target.value,r=n[a].key;"firstBorder"===t?i={index:a,key:r}:c={index:a,key:r},o([i,c])}(e,t)}},r.a.createElement(Ge,{minAmountOfNotes:a,firstBorder:i,secondBorder:c,nameOfSelect:t,baseArrOfNotes:n}))},Le=function(e){var t=e.actionUpdatePianoKeys,n=e.actionSetBordersOfRange,a=e.piano,o=a.firstBorder,i=a.secondBorder,c=a.baseArrOfNotes,s=a.minAmountOfNotes;return r.a.createElement("div",{className:"changeRangeOfNotes"},r.a.createElement("h3",null,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d:"),r.a.createElement(Ue,{firstBorder:o,secondBorder:i,nameOfSelect:"firstBorder",actionSetBordersOfRange:n,baseArrOfNotes:c,minAmountOfNotes:s}),r.a.createElement(Ue,{firstBorder:o,secondBorder:i,nameOfSelect:"secondBorder",actionSetBordersOfRange:n,baseArrOfNotes:c,minAmountOfNotes:s}),r.a.createElement(K,{onClick:function(){t()}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d"))},Ke={actionSetBordersOfRange:function(e){return{type:"SET_BORDERS_OF_RANGE",payload:{firstBorder:e[0],secondBorder:e[1]}}},actionUpdatePianoKeys:Z},Ve=Object(N.b)(function(e){return{piano:e.piano}},Ke)(Le),Fe=(n(69),function(e){var t=e.close,n=e.saveButtonHandler,a=e.cancelButtonHandler;return r.a.createElement(Ie,{close:t,saveButton:!0,saveButtonName:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancelButton:!0,cancelButtonName:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",saveButtonHandler:n,cancelButtonHandler:a},r.a.createElement("h3",null,"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))}),Ye=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modalIsOpen:!1},n.modalOpenerHandler=function(){n.setState(function(e){return{modalIsOpen:!e.modalIsOpen}})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.modalIsOpen,t=this.modalOpenerHandler;return r.a.createElement("div",{className:"changeRangeOfNotes"},r.a.createElement("h3",null,"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:"),r.a.createElement(K,{onClick:t},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),e?r.a.createElement(Fe,{close:this.modalOpenerHandler}):null)}}]),t}(a.Component),Xe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.actionUpdatePianoKeys,n=e.actionSetMode;t(),n({mode:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",stat:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"settings"},r.a.createElement(Ve,null),r.a.createElement(Ye,null))}}]),t}(a.Component),ze={actionSetMode:S,actionUpdatePianoKeys:Z},Je=Object(N.b)(function(){return{}},ze)(Xe),Qe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).play=function(e,t){var a=n.state.duration;if(n.midiSounds.playChordNow(1,[e],a),!t&&n.props.needToWriteNote){var r=n.props.sliceArr.find(function(t){return t.key===e});n.props.modeDictation?n.props.actionWritePlayNote(r,!0):n.props.actionWritePlayNote(r,!1)}},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({duration:.75}),this.midiSounds.setEchoLevel(0),document.getElementById("root").addEventListener("click",function(){e.props.menuIsOpen&&e.props.actionMenuAction(!1)}),document.body.addEventListener("keyup",function(t){27===t.keyCode&&e.props.actionMenuAction()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement(w,null),r.a.createElement(j,null),r.a.createElement(P,{play:this.play}),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,render:function(){return r.a.createElement(xe,null)}}),r.a.createElement(f.a,{path:"/intervals",render:function(){return r.a.createElement(pe,{play:e.play})}}),r.a.createElement(f.a,{path:"/find-note",render:function(){return r.a.createElement(ve,{play:e.play})}}),r.a.createElement(f.a,{path:"/dictation",render:function(){return r.a.createElement(We,{play:e.play})}}),r.a.createElement(f.a,{path:"/options",render:function(){return r.a.createElement(Je,null)}})),r.a.createElement(fe,{play:this.play}),r.a.createElement("div",{className:"midiComponent",style:{display:"none"}},r.a.createElement(m.a,{ref:function(t){return e.midiSounds=t},appElementName:"root",instruments:[1]})))}}]),t}(a.Component),Ze={actionMenuAction:A,actionWritePlayNote:g},$e=Object(N.b)(function(e){var t=e.application,n=e.piano;return{menuIsOpen:t.menuIsOpen,note:t.note,needToWriteNote:t.needToWriteNote,modeDictation:t.modeDictation,sliceArr:n.sliceArr,mapIndex:n.mapIndex}},Ze)(Qe),et=n(19),tt={menuIsOpen:!1,playNote:null,needToWriteNote:!1,modeDictation:!1,mode:"",stat:!0},nt=n(17),at=[],rt=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],ot={0:"\u0421\u0443\u0431\u043a\u043e\u043d\u0442\u0440\u043e\u043a\u0442\u0430\u0432\u0430",1:"\u041a\u043e\u043d\u0442\u0440\u043e\u043a\u0442\u0430\u0432\u0430",2:"\u0411\u043e\u043b\u044c\u0448\u0430\u044f \u043e\u043a\u0442\u0430\u0432\u0430",3:"\u041c\u0430\u043b\u0430\u044f \u043e\u043a\u0442\u0430\u0432\u0430",4:"\u041f\u0435\u0440\u0432\u0430\u044f \u043e\u043a\u0442\u0430\u0432\u0430",5:"\u0412\u0442\u043e\u0440\u0430\u044f \u043e\u043a\u0442\u0430\u0432\u0430",6:"\u0422\u0440\u0435\u0442\u044c\u044f \u043e\u043a\u0442\u0430\u0432\u0430",7:"\u0427\u0435\u0442\u0432\u0435\u0440\u0442\u0430\u044f \u043e\u043a\u0442\u0430\u0432\u0430",8:"\u041f\u044f\u0442\u0430\u044f \u043e\u043a\u0442\u0430\u0432\u0430"},it=21,ct=108,st=0,lt=0;lt<=ct-it;lt++){var ut=rt[lt%rt.length];"C"===ut&&st++,at.push({index:lt,key:lt+it,name:ut,fullName:ut+st,octaveName:ot[st]})}function pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct-it;return[].concat(at).slice(e,t+1)}function dt(e){for(var t={},n=[],a=0;a<e.length;a++){var r=e[a],o=e[a+1],i=n.length,c=[];c.push(mt(r)),t[e[a].key]={i:i,j:0},o&&o.name.includes("#")&&(c.push(mt(o)),t[e[++a].key]={i:i,j:1}),n.push(c)}return{mapIndex:t,arrOfNotes:n}}function mt(e){return Object(E.a)({},e,{active:!1,wrong:!1,right:!1})}var ft=function(e){var t=e.key,n=e.mapIndex[t];return{i:n.i,j:n.j}};window.getIndexes=ft;var Ot=function(e){var t=e.arrOfNotes,n=e.sequence,a=e.type,r=e.active,o=e.mapIndex,i=Object(nt.a)(t);return n.forEach(function(e){var t=ft({key:e,mapIndex:o}),n=t.i,c=t.j;r?i[n][c][a]=!0:a?i[n][c][a]=!1:(i[n][c].right=!1,i[n][c].wrong=!1)}),i},ht=pt(),vt=dt(ht),yt=vt.arrOfNotes,Nt=vt.mapIndex,Et=ae.map(function(e){return e.numberOfSemitones}),At=Math.max.apply(null,Et),It={baseArrOfNotes:ht,arrOfNotes:yt,mapIndex:Nt,firstBorder:{index:0,key:ht[0].key},secondBorder:{index:ht.length-1,key:ht[ht.length-1].key},sliceArr:ht,minAmountOfNotes:At},gt=Object(nt.a)(ae),St=function(e){return function(e){return e[Math.floor(Math.random()*e.length)]}(re(e))},bt={allIntervals:gt,typeOfInterval:"melodicUp",activeInterval:"",nextActiveInterval:"",sequenceOfNotes:[],settingsIsOpen:!1,showAnswer:!1},wt={nameOfInterval:"",rightAnswers:0,amountOfAnswers:0,right:!1,showAnswer:!1},Tt={note:null},Mt={amountOfNotes:4,sequenceOfMelody:[],sequenceOfWrittenMelody:[],defaultModeWrite:!1,answers:[],answerGiven:!1},_t=Object(et.b)({application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_ACTION":var n=e.menuIsOpen,a=t.payload.isOpen;return n="boolean"===typeof a?a:!n,Object(E.a)({},e,{menuIsOpen:n});case"NEED_TO_WRITE_NOTE":return Object(E.a)({},e,{needToWriteNote:t.payload||!1,playNote:null});case"WRITE_PLAY_NOTE":return Object(E.a)({},e,{playNote:Object(E.a)({},t.payload),needToWriteNote:t.needToWriteNote});case"INIT_DICTATION":return Object(E.a)({},e,{modeDictation:t.payload});case"SET_MODE":return Object(E.a)({},e,t.payload);default:return Object(E.a)({},e)}},piano:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BORDERS_OF_RANGE":return Object(E.a)({},e,t.payload);case"UPDATE_PIANO_KEYS":var n=pt(e.firstBorder.index,e.secondBorder.index),a=dt(n),r=a.arrOfNotes,o=a.mapIndex;return Object(E.a)({},e,{arrOfNotes:r,sliceArr:n,mapIndex:o});case"SHOW_NOTES_ON_THE_PIANO":var i=e.arrOfNotes,c=e.mapIndex,s=t.payload,l=s.sequence,u=s.type;return Object(E.a)({},e,{arrOfNotes:Ot({arrOfNotes:i,sequence:l,type:u,active:!0,mapIndex:c})});default:return e}},intervals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_TYPE_OF_INTERVAL":return Object(E.a)({},e,{typeOfInterval:t.payload});case"INTERVALS_SETTINGS_ACTION":var n=t.payload;return Object(E.a)({},e,{settingsIsOpen:n});case"INVERSE_CHOSEN_INTERVAL":var a=t.payload,r=a.chosen,o=Object(nt.a)(e.allIntervals);if(r&&o.reduce(function(e,t){return t.chosen?e+1:e},0)<=2)return Object(E.a)({},e);var i=function(e,t){return e.findIndex(function(e){return e.name===t})}(o,a.name);return a.chosen=!a.chosen,o[i]=a,Object(E.a)({},e,{allIntervals:o});case"SHOW_THE_CORRECT_INTERVAL":return Object(E.a)({},e,{showAnswer:!0});case"GET_NEXT_INTERVAL":var c=t.payload,s=function(e){var t=e.initNewIntervalSequence,n=e.nextActiveInterval,a=e.nextSequenceOfNotes,r=e.sliceArr,o=e.allIntervals,i=t?St(o):n||St(o);return{sequenceOfNotes:t?ie(r,i):a||ie(r,i),nextActiveInterval:n=St(o),nextSequenceOfNotes:a=ie(r,n),activeInterval:i}}({sliceArr:c.sliceArr,initNewIntervalSequence:c.initNewIntervalSequence,allIntervals:e.allIntervals,nextActiveInterval:e.nextActiveInterval,nextSequenceOfNotes:e.nextSequenceOfNotes}),l=s.sequenceOfNotes,u=s.nextActiveInterval,p=s.nextSequenceOfNotes,d=s.activeInterval;return Object(E.a)({},e,{activeInterval:d,sequenceOfNotes:l,showAnswer:!1,nextActiveInterval:u,nextSequenceOfNotes:p});default:return e}},statistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATISTICS_CLEARING":return Object(E.a)({},e,wt);case"INCREMENT_RIGHT_ANSWERS":var n=e.rightAnswers+1,a=e.amountOfAnswers+1;return Object(E.a)({},e,{rightAnswers:n,amountOfAnswers:a,nameOfInterval:t.payload?t.payload:null,right:!0,showAnswer:!0});case"INCREMENT_AMOUNT_OF_ANSWERS":var r=e.amountOfAnswers+1;return Object(E.a)({},e,{amountOfAnswers:r,nameOfInterval:t.payload?t.payload:null,right:!1,showAnswer:!0});case"NEXT_BUTTON_CLICK":return Object(E.a)({},e,{nameOfInterval:"",right:!1});case"STATISTICS_HIDE_ANSWER":return Object(E.a)({},e,{showAnswer:!1});default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_NOTE":var n=t.sliceArr,a=n[Math.floor(Math.random()*n.length)].key;return Object(E.a)({},e,{note:a});default:return Object(E.a)({},e)}},dictation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NEW_MELODY":var n=e.amountOfNotes,a=function(e){for(var t=e.sliceArr,n=e.amountOfNotes,a=[],r=0;r<n;r++){var o=Object(E.a)({},t[Math.floor(Math.random()*t.length)]);a.push(o)}return a}({sliceArr:Object(nt.a)(t.sliceArr),amountOfNotes:n});return Object(E.a)({},e,{sequenceOfMelody:a});case"CHANGE_MODE":var r=t.payload;return Object(E.a)({},e,{modeWrite:r});case"ADD_NOTE_TO_ANSWER_ARRAY":var o=e.sequenceOfWrittenMelody;return o.push(t.payload),Object(E.a)({},e,{sequenceOfWrittenMelody:o});case"POP_LAST_ELEM_FROM_ANSWER_ARRAY":var i=Object(nt.a)(e.sequenceOfWrittenMelody);return i.length>0&&i.pop(),Object(E.a)({},e,{sequenceOfWrittenMelody:i});case"WRITE_ANSWERS":var c=t.payload.length>0;return Object(E.a)({},e,{answers:t.payload,answerGiven:c});case"CLEAR_WRITTEN_MELODY":return Object(E.a)({},e,{sequenceOfWrittenMelody:[]});case"CHANGE_SETTINGS":return Object(E.a)({},e,t.payload);default:return Object(E.a)({},e)}}}),Ct=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):{},kt=Object(et.c)(_t,Ct,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());kt.subscribe(function(){var e=kt.getState(),t={};t.piano=e.piano,t.dictation=e.dictation;var n=e.intervals,a=n.allIntervals,r=n.typeOfInterval;t.intervals={allIntervals:a,typeOfInterval:r},localStorage.setItem("reduxState",JSON.stringify(t))}),i.a.render(r.a.createElement(N.a,{store:kt},r.a.createElement(h.a,{basename:"/project-solfeggio"},r.a.createElement($e,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.cfba5664.chunk.js.map